{"version":3,"sources":["redux/actions/CommunicationAction.js","dev/types.js","view/Global/AskName/index.jsx","view/Scenario/Receptionist/AskAge/index.jsx","view/Global/reusableComponent/Drink/Drink.jsx","view/Global/AskDrink/index.jsx","view/Scenario/Receptionist/PresentPeople/Guest.jsx","view/Scenario/Receptionist/PresentPeople/index.jsx","view/Global/reusableComponent/Button/AutoValidationButton.jsx","view/Global/Confirm/index.jsx","view/Scenario/ServingDrinks/DetailDrinks/index.jsx","view/Generic/index.jsx","view/Global/GoTo/index.jsx","view/Scenario/ServingDrinks/FindAvailableDrinks/index.jsx","view/Scenario/ServingDrinks/FindWhoWantDrinks/index.js","view/Scenario/Receptionist/SeatGuest/index.jsx","view/Global/reusableComponent/Location.jsx","view/Global/AskToFollow/index.jsx","view/Scenario/ServingDrinks/ServeDrinks/index.jsx","view/Global/Wait/index.jsx","view/Scenario/Receptionist/AskOpenDoor/index.jsx","view/Scenario/TakeOutTheGarbage/CallHuman/index.jsx","view/Global/ShowVideo/index.jsx","controller/ViewStepBridge.js","redux/reducers/ViewReducer.js","redux/reducers/CommunicationReducer.js","redux/reducers/ToolbarReducer.js","model/Timer.js","redux/reducers/TimeReducer.js","redux/actions/ScenarioAction.js","redux/reducers/ScenarioReducer.js","redux/Store.js","view/Global/reusableComponent/ComponentTitle.jsx","view/Global/Toolbar/icons/internetError.svg","view/Global/Toolbar/icons/muteMicro.svg","view/Global/Toolbar/icons/pcProblem.svg","index.js","dev/Logger.js","dev/Tools.js","controller/ConfigWrapper.js","redux/actions/ToolbarAction.js","view/Global/reusableComponent/Button/SpeakableButton.jsx","redux/actions/TimeAction.js","redux/actions/ViewAction.js","view/ViewManager/index.jsx","view/Global/reusableComponent/ProgressBar.jsx","view/Global/TimeBoard/Step.jsx","view/Global/TimeBoard/index.jsx","view/Global/reusableComponent/Icon.jsx","view/Global/Toolbar/Toolbar.jsx","view/Global/Logo/index.jsx","App.js","view/Debug/ViewSimulator.jsx","view/Debug/Debug.jsx","view/Global/MainMenu/index.jsx"],"names":["__webpack_require__","d","__webpack_exports__","comAction","ConfigWrapper","get","apis","generalManagerHRI","common","tabletLM","stepReceived","type","reduxKey","stepCompleted","jsHeartbeat","time","dataJs","dataType","data","extHeartbeat","gm","lm","askToChangeScenario","scenario","id","name","personPropTypes","PropTypes","shape","string","isRequired","drinkName","number","arrayOf","who","to","AskName","names","_this","this","textToShow","props","length","react_default","a","createElement","ComponentTitle","className","map","SpeakableButton","onClick","sendName","dispatch","Component","connect","AskAge","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","value","setState","prev","objectSpread","slice","newValue","Number","parseInt","toString","_this2","digits","_loop","i","push","addNumber","deleteNumber","age","Drink","size","src","pathOnTablet","alt","drinksNameToPathMap","drinks","displayed","forEach","drink","image","reusableComponent_Drink_Drink","Guest","console","log","drinkObj","warn","undefined","Fragment","guestPhotoPath","React","PresentPerson","_Component","inherits","createClass","key","viewOk","toDiv","people","peoples","guy","Receptionist_PresentPeople_Guest","status","AutoValidationButton","subButton","createRef","clearInterval","inter","canvas","document","querySelector","ctx","getContext","height","ReactDOM","clientHeight","width","clientWidth","moveTo","setInterval","Math","PI","ReactTestUtils","Simulate","click","drawToXY","cos","sin","timeout","_this3","color","ref","children","x","y","beginPath","lineTo","strokeStyle","stroke","Confirm","handleNoClick","Button_AutoValidationButton","handleYesClick","confirm","DetailDrinks","Generic","video","title","list","medias","content","alternative","arr","elem","noContainer","Goto","view_Generic","location","FindAvailableDrinks","FindWhoWantDrinks","SeatGuest","Location","obj","AskToFollow","reusableComponent_Location","ServeDrinks","Wait","remainingTime","elapsedTime","self","intervalId","labels","datasets","backgroundColor","chart","react_chartjs_2_es","options","elements","arc","borderWidth","legend","display","tooltips","enabled","responsive","scales","xAxes","yAxes","AskOpenDoor","description","str","handleClick","CallHuman","humanIsHere","Global_Wait","ShowVideo","layout","autoPlay","loop","muted","ViewStepBridge_getClassFromView","getAllViewsKey","getClassFromView","view","viewClassMap","MainMenu","askName","askDrink","AskDrink","askAge","detailDrinks","presentPerson","goTo","GoTo","generic","findAvailableDrinks","findWhoWantsDrinks","FindWhoWantsDrinks","serveDrinks","seatGuest","askToFollow","mainMenu","wait","askOpenDoor","callHuman","showVideo","keys","INITIAL_STATE","currentView","currentData","choices","componentVisibility","timeBoard","viewAction","setComponentVisibility","visible","logger","Logger","logConfig","reducer","viewReducer","arguments","action","changeView","component","includes","_viewAction$setCompon","hidden","ConfigQiWrapper","lastLocalManagerHeartbeat","lastGeneralManagerHeartbeat","delayWithPepper","com","possibleActionType","comReducer","QiWrapper","raise","ALMemory","Date","now","actionId","floor","currentTime","diffLM","LMStr","error","diffGM","GMStr","debug","internet","toolbarAction","toolbarState","ok","pcConnection","micro","canMove","possibleActionTypes","toolbarReducer","actionPayload","system","_i","_payloads","p","defineProperty","Timer","classPrivateFieldLooseBase","_intervalId","_startTime","_lastTime","dateNow","timeAction","passSecond","globalElapsedTime","getElapsedTime","timeFromLastEvent","from","init","steps","order","jsonValue","todoSteps","eta","allSteps","toConsumableArray","DEFAULT_STATE","currentStep","doneSteps","skippedSteps","stepElapsedTime","haveToReset","getDefaultState","JSON","parse","stringify","timeReducer","stepIndex","clonedState","resetStepsProgression","index","researchedStep","findIndex","step","splice","indexes","indexInTodo","stepSkipped","timerState","_generalManagerHRI$ti","on","off","startTimer","stopTimer","replaceAllSteps","scenarioAction","currentScenario","current","scenarioReducer","scenarioName","localStore","getStore","store","redux","createLogger","level","diff","duration","createStore","combineReducers","toolbar","composeWithDevTools","applyMiddleware","react__WEBPACK_IMPORTED_MODULE_5___default","module","exports","_callee","App","Provider","Debug","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_236___default","wrap","_context","next","setConfigFromALMemory","require","default","render","react__WEBPACK_IMPORTED_MODULE_238___default","getElementById","stop","initApp","then","label","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_state","writable","_label","info","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classPrivateFieldLooseBase__WEBPACK_IMPORTED_MODULE_2__","funcName","sendToLm","concat","message","application","timeEnd","deepFreeze","freeze","agent","navigator","userAgent","v","_imPepper","_apis","prefix","AL_VALUE","locations","guests","images","videos","payload","localManagerHeartbeat","generalManagerHeartbeat","tabletOperational","dataPython","localManagerLogger","HEARTBEAT","EVENT","DEBUG","INFO","WARNING","ERROR","CRITIAL","stepId","resetSteps","currentAction","actionComplete","_images","_locations","got","e","style","position","top","left","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_abdeljabarferdjani_Documents_Robocup_robocup_pepper_hri_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","ViewManager","errorInfo","comp","nextProps","prevState","DEFAULT_COLOR","r","g","b","ProgressBar","changeCurrentValue","max","percentLoad","round","deltaColor","addToColor","removeToColor","convertToHex","field","getHexValue","defaultProps","Step","progressBarRef","progressBarKey","resetFunc","reset","Global_reusableComponent_ProgressBar","Status","done","todo","skipped","TimeBoard","createStepFromProps","sortedSteps","parentDiv","stepsElems","classList","add","remove","TimeBoard_Step","nextSteps","oldSteps","newSortedSteps","compareSteps","nbStepsDone","aStep","scrollTop","sort","stepA","stepB","Icon","animation","copyright","Toolbar","infos","icons","Global_reusableComponent_Icon","internetError","muteMicro","pcProblem","Logo","logos","logo","nbClickForDebug","askForDebug","ontouchmove","preventDefault","Global_TimeBoard","Global_Toolbar_Toolbar","Global_Logo","src_view_ViewManager","ViewSimulator","handleSelectChange","evt","persist","currentViewSelected","target","handleJsonChange","currentJson","handleSubmit","json","replaceAll","imagePath","onSubmit","htmlFor","onChange","event","apiCommon","apiTabletLM","apiGeneralManagerHRI","handleImageClick","handleVideoClick","handleVideoInputChange","handleImageInputChange","videoPath","imagesOptions","img","videosOptions","Array","view_Debug_ViewSimulator","toggleTimeBoardVisibilty","setStepRecieved","timeToggleTimer","timeStepSkipped","timeStepComplete","timeStepChangeCurrent","gotoMainMenu","tool","changeCurrentView","buttons","scenarios","_reusableComponent_Button_SpeakableButton__WEBPACK_IMPORTED_MODULE_9__","_reusableComponent_ComponentTitle__WEBPACK_IMPORTED_MODULE_8__"],"mappings":"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","file":"static/js/main.7846b0fe.chunk.js","sourcesContent":["import ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {generalManagerHRI, common, tabletLM}} = ConfigWrapper.get();\r\n\r\nexport const comAction = {\r\n\tstepReceived: {\r\n\t\ttype: generalManagerHRI.stepReceived.reduxKey,\r\n\t},\r\n\t\r\n\t// Never raise this event, @see dataJs\r\n\tstepCompleted: {\r\n\t\ttype: generalManagerHRI.stepCompleted.reduxKey,\r\n\t},\r\n\tjsHeartbeat: {\r\n\t\ttype: common.jsHeartbeat.reduxKey,\r\n\t\ttime: \"__timestamp\"\r\n\t},\r\n\tdataJs: {\r\n\t\ttype: tabletLM.dataJs.reduxKey,\r\n\t\tdataType: tabletLM.dataJs.dataType,\r\n\t\tdata: \"\"\r\n\t\t\r\n\t},\r\n\t\r\n\textHeartbeat: {\r\n\t\ttype: \"COM/EXT_HEARTBEAT\",\r\n\t\ttime: {\r\n\t\t\tgm: \"_gmTimestamp\",\r\n\t\t\tlm: \"_lmTimestamp\"\r\n\t\t}\r\n\t},\r\n\t\r\n\taskToChangeScenario: {\r\n\t\ttype: generalManagerHRI.askToChangeScenario.reduxKey,\r\n\t\tscenario: [\r\n\t\t\t{\r\n\t\t\t\t\"id\": \"receptionist\",\r\n\t\t\t\t\"name\": \"Receptionist\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"id\": \"take_out_the_garbage\",\r\n\t\t\t\t\"name\": \"Take out the garbage\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"id\": \"inspection\",\r\n\t\t\t\t\"name\": \"Inspection\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t\r\n\t\r\n};\r\n\r\n\r\n","import PropTypes from \"prop-types\";\r\n\r\n\r\nconst personPropTypes = PropTypes.shape({\r\n\tname: PropTypes.string.isRequired,\r\n\tdrinkName: PropTypes.number.isRequired\r\n});\r\n\r\n\r\nconst UserComponentPropTypes = {\r\n\ttextToShow: PropTypes.string.isRequired,\r\n\timagePath: PropTypes.string,\r\n\tchoices: PropTypes.arrayOf(PropTypes.string),\r\n\tpeople: PropTypes.shape({\r\n\t\twho: personPropTypes.isRequired,\r\n\t\tto: personPropTypes.isRequired\r\n\t}),\r\n\tlocation: PropTypes.string,\r\n\ttime: PropTypes.number\r\n\t\r\n};\r\n\r\nexport {\r\n\tUserComponentPropTypes\r\n}","import React, {Component} from 'react';\r\nimport SpeakableButton from \"../reusableComponent/Button/SpeakableButton\";\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\nimport './AskName.css'\r\nimport {UserComponentPropTypes} from \"../../../dev/types\";\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendName: (dispatch, name) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdataType: comAction.dataJs.dataType.name,\r\n\t\t\t\tdata: name\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n\r\nclass AskName extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\t...UserComponentPropTypes\r\n\t};\r\n\t\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst textToShow = this.props.textToShow || \"Hello, what is your name ?\";\r\n\t\t\r\n\t\tlet names;\r\n\t\tif (this.props.names && this.props.names.length > 0) {\r\n\t\t\tnames = this.props.names\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t\t\t<div className=\"names\">\r\n\t\t\t\t\t{names.map(name => <SpeakableButton\r\n\t\t\t\t\t\tonClick={() => this.props.sendName(this.props.dispatch, name)}>{name}</SpeakableButton>)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapDispatchToProps)(AskName);","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport './AskAge.css'\r\nimport {comAction} from \"../../../../redux/actions/CommunicationAction\";\r\nimport ComponentTitle from \"../../../Global/reusableComponent/ComponentTitle\";\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendName: (dispatch, name) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdataType: comAction.dataJs.dataType.age,\r\n\t\t\t\tdata: name\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nclass AskAge extends Component {\r\n\t\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tvalue: \"\"\r\n\t\t}\r\n\t}\r\n\t\r\n\tdeleteNumber() {\r\n\t\tthis.setState(prev => {\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\tvalue: prev.value.slice(0, -1)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\taddNumber(number) {\r\n\t\tif (this.state.value.length < 3) {\r\n\t\t\tthis.setState(prev => {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tlet newValue = Number.parseInt(prev.value + number.toString());\r\n\t\t\t\t\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tvalue: newValue.toString()\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst textToShow = this.props.textToShow || \"Hello X, how old are you ?\";\r\n\t\t\r\n\t\tconst digits = [];\r\n\t\t\r\n\t\tfor (let i = 1; i < 10; i++) {\r\n\t\t\tdigits.push(<button className={\"btn btn-classic\"}\r\n\t\t\t                    onClick={() => this.addNumber(i)}>{i}</button>)\r\n\t\t}\r\n\t\t\r\n\t\tconst value = (this.state.value.length > 0) ? this.state.value : \"0\";\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t\t\t<div id=\"ages\">\r\n\t\t\t\t\t<p className=\"value\">{value}</p>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"digits\">\r\n\t\t\t\t\t\t{digits}\r\n\t\t\t\t\t\t<button className={\"btn no\"}\r\n\t\t\t\t\t\t        onClick={() => this.deleteNumber()}>DEL\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={\"btn btn-classic\"}\r\n\t\t\t\t\t\t        onClick={() => this.addNumber(0)}>0\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={\"btn ok\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.sendName(this.props.dispatch, Number.parseInt(this.state.value))}>OK\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapDispatchToProps)(AskAge);","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport './Drink.css'\n\n\nclass Drink extends Component {\n\t\n\tstatic drinksNameToPathMap = {};\n\t\n\tstatic propTypes = {\n\t\tname: PropTypes.string.isRequired,\n\t\tpathOnTablet: PropTypes.string.isRequired,\n\t\tsize: PropTypes.oneOf([\"sm\", \"me\", \"lg\"])\n\t};\n\t\n\trender() {\n\t\tlet className = \"Drink \" + this.props.size;\n\t\t\n\t\treturn (\n\t\t\t<img className={className}\n\t\t\t     src={this.props.pathOnTablet}\n\t\t\t     alt={this.props.name}/>\n\t\t);\n\t}\n}\n\nexport default Drink;\n\n\n","import React, {Component} from 'react';\r\nimport SpeakableButton from \"../reusableComponent/Button/SpeakableButton\";\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\nimport './AskDrink.css'\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\nimport Drink from \"../reusableComponent/Drink/Drink\";\r\nimport PropTypes from 'prop-types'\r\n\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tsendName: (dispatch, name) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdataType: comAction.dataJs.dataType.drink,\r\n\t\t\t\tdata: name\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nclass AskName extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\timagePath: PropTypes.string.isRequired,\r\n\t\ttextToShow: PropTypes.string.isRequired\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst textToShow = this.props.textToShow || \"Hello X, what is your prefered drinks ?\";\r\n\t\t\r\n\t\t\r\n\t\tlet drinks;\r\n\t\tif (this.props.drinks && this.props.drinks.length > 0) {\r\n\t\t\tdrinks = this.props.drinks\r\n\t\t}\r\n\t\t\r\n\t\tconst displayed = [];\r\n\t\tdrinks.forEach(drink => {\r\n\t\t\tdisplayed.push(<div>\r\n\t\t\t\t<SpeakableButton\r\n\t\t\t\t\timage={<Drink name={drink['name']}\r\n\t\t\t\t\t              pathOnTablet={drink['pathOnTablet']}/>}\r\n\t\t\t\t\tonClick={() => this.props.sendName(this.props.dispatch, drink['name'])}\r\n\t\t\t\t>\r\n\t\t\t\t\t{drink['name']}\r\n\t\t\t\t</SpeakableButton>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t</div>)\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t\r\n\t\t\t<div id={\"AskDrink\"}>\r\n\t\t\t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t\t\t<div className=\"drinks\">\r\n\t\t\t\t\t{displayed}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default connect(mapDispatchToProps)(AskName);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport './Guest.css'\r\nimport Drink from \"../../../Global/reusableComponent/Drink/Drink\";\r\n\r\n\r\nclass Guest extends React.Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\tdrinkObj: PropTypes.object,\r\n\t\tname: PropTypes.string.isRequired,\r\n\t\tguestPhotoPath: PropTypes.string\r\n\t};\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconsole.log(\"PROPS : \", props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tname: props.name,\r\n\t\t\tdrinkObj: props.drinkObj\r\n\t\t};\r\n\t\tconsole.warn(\"Guest.state\", this.state)\r\n\t}\r\n\t\r\n\t\r\n\trender()\r\n\t{\r\n\t\t\r\n\t\tlet drink = this.props.drinkObj !== undefined ? <>\r\n\t\t\t<p className={\"guestDrink\"}>{this.state.name} likes: {this.state.drinkObj.name} </p>\r\n\t\t\t<Drink\r\n\t\t\t\tsize={\"lg\"}\r\n\t\t\t\tname={this.state.drinkObj['name']}\r\n\t\t\t\tpathOnTablet={this.state.drinkObj[\"pathOnTablet\"]}/>\r\n\t\t</> : null;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className=\"Guest\">\r\n\t\t\t\t<img src={this.props.guestPhotoPath} alt={this.state.name}/>\r\n\t\t\t\t{drink}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\nexport default Guest","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from \"prop-types\";\r\nimport Guest from \"./Guest\";\r\nimport './PresentPeople.css'\r\nimport {comAction} from \"../../../../redux/actions/CommunicationAction\";\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {};\r\n}\r\n\r\nconst peopleProps = PropTypes.shape({\r\n\tname: PropTypes.string.isRequired,\r\n\tdrink: PropTypes.number.isRequired\r\n});\r\n\r\nexport class PresentPerson extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\tpeople: PropTypes.shape({\r\n\t\t\twho: peopleProps.isRequired,\r\n\t\t\tto: PropTypes.arrayOf(peopleProps).isRequired\r\n\t\t})\r\n\t};\r\n\t\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconsole.log(\"Present People \", props)\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.viewOk()\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet toDiv;\r\n\t\tif (this.props.people.to.length !== undefined) {\r\n\t\t\t// Their is an array of people\r\n\t\t\tlet peoples = [];\r\n\t\t\tconsole.log(\"People TO array : \", this.props.people.to);\r\n\t\t\tthis.props.people.to.forEach(guy => {\r\n\t\t\t\tconsole.log(\"39\", guy);\r\n\t\t\t\tpeoples.push(<Guest name={guy}/>)\r\n\t\t\t});\r\n\t\t\ttoDiv = <div>{peoples}</div>\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={\"PresentPerson\"}>\r\n\t\t\t\t<Guest drinkObj={this.props.people.who.drink}\r\n\t\t\t\t       name={this.props.people.who.name}/>\r\n\t\t\t\t{toDiv}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tviewOk: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {status: 200}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PresentPerson);\r\n","import React, {Component} from 'react';\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {SpeakableButton} from \"./SpeakableButton\";\r\nimport './Button.css'\r\nimport PropTypes from \"prop-types\";\r\nimport ReactTestUtils from 'react-dom/test-utils'; // ES6\r\n\r\nclass AutoValidationButton extends Component {\r\n\t\r\n\t\r\n\tstatic propTypes = {\r\n\t\ttimeout: PropTypes.number.isRequired, // timeout in second before the button is automaticly pressed.\r\n\t\t...SpeakableButton.propTypes\r\n\t};\r\n\tsubButton = React.createRef();\r\n\t\r\n\tstatic drawToXY(canvas, x, y) {\r\n\t\t\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\t\t\r\n\t\tctx.beginPath();\r\n\t\tctx.moveTo(canvas.width / 2, canvas.height / 2);\r\n\t\tctx.lineTo(x, y);\r\n\t\t// ctx.fillRect(i, 0, size, size); // fill in the pixel at (10,10)\r\n\t\tctx.strokeStyle = \"rgb(244,248,255)\";\r\n\t\t// todo change this color, its ugly.\r\n\t\tctx.stroke();\r\n\t}\r\n\t\r\n\tcomponentWillUnmount() {\r\n\t\tclearInterval(this.inter)\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst canvas = document.querySelector(\"canvas#canvasOK\");\r\n\t\tconst ctx = canvas.getContext(\"2d\");\r\n\t\t\r\n\t\t\r\n\t\tcanvas.height = ReactDOM.findDOMNode(this).clientHeight;\r\n\t\tcanvas.width = ReactDOM.findDOMNode(this).clientWidth;\r\n\t\t\r\n\t\t\r\n\t\tctx.moveTo(canvas.width / 2, canvas.height / 2);\r\n\t\t\r\n\t\tlet i = 0;\r\n\t\t\r\n\t\tthis.inter = setInterval(() => {\r\n\t\t\tif (i > Math.PI * 2)\r\n\t\t\t{\r\n\t\t\t\tclearInterval(this.inter);\r\n\t\t\t\tReactTestUtils.Simulate.click(ReactDOM.findDOMNode(this.subButton));\r\n\t\t\t} else {\r\n\t\t\t\tAutoValidationButton.drawToXY(canvas, canvas.width * Math.cos(i) + canvas.height / 2, canvas.height * Math.sin(i) + canvas.height / 2);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Decrease it if you want to detail the animation care about performances issues\r\n\t\t\ti += 0.005;\r\n\t\t\t\r\n\t\t\t\r\n\t\t}, this.props.timeout * 1000 / 628);\r\n\t\t// 'timeout' * 1000 / 2 * PI * 100 => the animation will work for 'timeout' seconds\r\n\t\t\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={\"AutoValidationButton\"}>\r\n\t\t\t\t\r\n\t\t\t\t<SpeakableButton color={this.props.color}\r\n\t\t\t\t                 onClick={this.props.onClick}\r\n\t\t\t\t                 ref={ref => this.subButton = ref}>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{this.props.children}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<canvas id={\"canvasOK\"}/>\r\n\t\t\t\t</SpeakableButton>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AutoValidationButton","import React, {Component} from 'react';\r\nimport './Confirm.css'\r\nimport AutoValidationButton\r\n\tfrom \"../reusableComponent/Button/AutoValidationButton\";\r\nimport {SpeakableButton} from \"../reusableComponent/Button/SpeakableButton\";\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\nimport {UserComponentPropTypes} from \"../../../dev/types\";\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\thandleNoClick: (dispatch) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdataType: comAction.dataJs.dataType.confirm,\r\n\t\t\t\tdata: false\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\thandleYesClick: (dispatch) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdataType: comAction.dataJs.dataType.confirm,\r\n\t\t\t\tdata: true\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n};\r\n\r\nclass Confirm extends Component {\r\n\t\r\n\t\r\n\tstatic propTypes = {\r\n\t\t...UserComponentPropTypes,\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t\r\n\t\tconst textToShow = this.props.textToShow || \"Are you sure that you want X?\";\r\n\t\t// if (this.props.imagePath !== undefined) { // todo implement it for the next robocup (image of confirmed drink)\r\n\t\t//\r\n\t\t// \timg = <img src={this.props.imagePath}\r\n\t\t// \t           alt=\"\"/>\r\n\t\t// }\r\n\t\t\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={\"Confirm\"}>\r\n\t\t\t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<div className={\"choices\"}>\r\n\t\t\t\t\t<SpeakableButton\r\n\t\t\t\t\t\tonClick={() => this.props.handleNoClick(this.props.dispatch)}\r\n\t\t\t\t\t\tcolor={\"no\"}>No</SpeakableButton>\r\n\t\t\t\t\t<AutoValidationButton\r\n\t\t\t\t\t\tonClick={() => this.props.handleYesClick(this.props.dispatch)}\r\n\t\t\t\t\t\tcolor={\"ok\"}\r\n\t\t\t\t\t\ttimeout={10}>Yes</AutoValidationButton>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapDispatchToProps)(Confirm);","import React, {Component} from 'react';\r\n\r\nclass DetailDrinks extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\tIl me faut du coca, ...\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default DetailDrinks;","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport ComponentTitle from \"../Global/reusableComponent/ComponentTitle\";\nimport './Generic.css'\n\nclass Generic extends Component {\n\t\n\tstatic propTypes = {\n\t\timage: PropTypes.shape({\n\t\t\tpathOnTablet: PropTypes.string,\n\t\t\talternative: PropTypes.string\n\t\t}),\n\t\tvideo: PropTypes.shape({\n\t\t\tpathOnTablet: PropTypes.string,\n\t\t\talternative: PropTypes.string\n\t\t}),\n\t\ttitle: PropTypes.string,\n\t\tlist: PropTypes.arrayOf(PropTypes.string),\n\t\tcontent: PropTypes.string,\n\t\tnoContainer: PropTypes.bool\n\t};\n\t\n\trender() {\n\t\t\n\t\tlet video = null,\n\t\t\timage = null,\n\t\t\ttitle = null,\n\t\t\tlist = null,\n\t\t\tmedias = null,\n\t\t\tcontent = null;\n\t\t\n\t\tif (this.props.title) {\n\t\t\ttitle = <ComponentTitle>{this.props.title}</ComponentTitle>\n\t\t\t\n\t\t}\n\t\t\n\t\tif (this.props.image) {\n\t\t\timage = <img src={this.props.image.pathOnTablet}\n\t\t\t             alt={this.props.image.alternative}/>\n\t\t}\n\t\t\n\t\tif (this.props.video) {\n\t\t\tvideo = <img src={this.props.video.pathOnTablet}\n\t\t\t             alt={this.props.video.alternative}/>\n\t\t}\n\t\t\n\t\tif (this.props.content) {\n\t\t\tcontent = this.props.content\n\t\t}\n\t\t\n\t\tif (this.props.video || this.props.image) {\n\t\t\tmedias = <div className=\"media\">\n\t\t\t\t{image}\n\t\t\t\t{video}\n\t\t\t</div>\n\t\t}\n\t\t\n\t\tif (this.props.list) {\n\t\t\tlet arr = [];\n\t\t\tthis.props.list.forEach(elem => {\n\t\t\t\tarr.push(<li>{elem}</li>)\n\t\t\t});\n\t\t\tlist = <ol>{arr}</ol>\n\t\t}\n\t\t\n\t\tif (this.props.noContainer) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t{title}\n\t\t\t\t\t{medias}\n\t\t\t\t\t{content}\n\t\t\t\t\t{list}\n\t\t\t\t</>\n\t\t\t)\n\t\t\t\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className={\"Generic\"}>\n\t\t\t\t\t{title}\n\t\t\t\t\t{medias}\n\t\t\t\t\t{content}\n\t\t\t\t\t{list}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\t\n\t}\n}\n\nexport default Generic;","import React, {Component} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Goto.css\"\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\nimport Generic from \"../../Generic\";\r\n\r\n\r\nclass Goto extends Component {\r\n\tstatic propTypes = {\r\n\t\tlocation: PropTypes.object.isRequired,\r\n\t\ttextToShow: PropTypes.string.isRequired,\r\n\t};\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.viewOk();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst textToShow = this.props.textToShow || \"I'm going to the \";\r\n\t\treturn (\r\n\t\t\t<div className=\"Goto\">\r\n\t\t\t\t<Generic image={this.props.location}\r\n\t\t\t\t         title={this.props.textToShow}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t)\r\n\t\t// return (\r\n\t\t// \t<div className={\"Goto\"}>\r\n\t\t// \t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t// \t\t<div><Location obj={this.props.location}/></div>\r\n\t\t//\r\n\t\t// \t</div>\r\n\t\t// );\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tviewOk: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {status: 200}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Goto);","import React, {Component} from 'react';\r\n\r\nclass FindAvailableDrinks extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FindAvailableDrinks;","import React, {Component} from 'react';\r\n\r\nclass FindWhoWantDrinks extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FindWhoWantDrinks;","import React, {Component} from 'react';\r\nimport ComponentTitle from \"../../../Global/reusableComponent/ComponentTitle\";\r\nimport {comAction} from \"../../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass SeatGuest extends Component {\r\n\tstatic propTypes = {};\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.viewOk();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<ComponentTitle>{this.props.textToShow}</ComponentTitle>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tviewOk: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {status: 200}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SeatGuest);","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport './Location.css'\r\n\r\nfunction Location(props) {\r\n\t\r\n\treturn (\r\n\t\t<img className={\"Location\"}\r\n\t\t     src={props.obj[\"pathOnTablet\"]}\r\n\t\t     alt={props.obj[\"name\"]}/>\r\n\t);\r\n}\r\n\r\nLocation.propTypes = {\r\n\tobj: PropTypes.object.isRequired\r\n};\r\n\r\nexport default Location;","import React, {Component} from 'react';\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\nimport Location from \"../reusableComponent/Location\";\r\nimport PropTypes from \"prop-types\";\r\nimport './AskToFollow.css'\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\nclass AskToFollow extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\ttextToShow: PropTypes.string,\r\n\t\tlocation: PropTypes.object.isRequired\r\n\t};\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.props.viewOk();\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst textToShow = this.props.textToShow || \"Please follow me\";\r\n\t\tconsole.log(\"AskToFollow props\", this.props);\r\n\t\treturn (\r\n\t\t\t<div className={\"AskToFollow\"}>\r\n\t\t\t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t\t\t<Location obj={this.props.location}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tviewOk: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {status: 200}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AskToFollow);","import React, {Component} from 'react';\r\n\r\nclass ServeDrinks extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ServeDrinks;","import React, {Component} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport {Doughnut} from 'react-chartjs-2'\r\nimport './Wait.css'\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\n\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nclass Wait extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\ttime: PropTypes.number.isRequired\r\n\t};\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tremainingTime: this.props.time,\r\n\t\t\telapsedTime: 0\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst self = this;\r\n\t\tconst intervalId = setInterval(() => {\r\n\t\t\tself.setState(prev => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tremainingTime: prev.remainingTime - 1,\r\n\t\t\t\t\telapsedTime: prev.elapsedTime + 1\r\n\t\t\t\t}\r\n\t\t\t}, () => {\r\n\t\t\t\tif (self.state.remainingTime === 0) {\r\n\t\t\t\t\tclearInterval(intervalId);\r\n\t\t\t\t\tthis.props.viewOk();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n\t\t}, 1000);\r\n\t}\r\n\t\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet title = this.props.textToShow;\r\n\t\tif (title === \"\") {\r\n\t\t\ttitle = \"I'm waiting for \";\r\n\t\t}\r\n\t\tconst data = {\r\n\t\t\tlabels: [\r\n\t\t\t\t\"\", \"\"\r\n\t\t\t],\r\n\t\t\tdatasets: [{\r\n\t\t\t\tdata: [this.props.time - this.state.elapsedTime, this.state.elapsedTime],\r\n\t\t\t\tbackgroundColor: [\r\n\t\t\t\t\t'#12c4ff',\r\n\t\t\t\t\t'rgba(54,162,235,0)',\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t}]\r\n\t\t};\r\n\t\t\r\n\t\tconst options = {\r\n\t\t\telements: {\r\n\t\t\t\tarc: {\r\n\t\t\t\t\tborderWidth: 0\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: false\r\n\t\t\t},\r\n\t\t\ttooltips: {\r\n\t\t\t\tenabled: false\r\n\t\t\t},\r\n\t\t\tresponsive: true,\r\n\t\t\tscales: {xAxes: [{display: false,}], yAxes: [{display: false,}],},\r\n\t\t\t\r\n\t\t\t\r\n\t\t};\r\n\t\tconst chart = <Doughnut data={data} options={options}/>;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div id=\"Wait\">\r\n\t\t\t\t<ComponentTitle>{title}</ComponentTitle>\r\n\t\t\t\t<div id=\"chart\">\r\n\t\t\t\t\t<span className={\"timer\"}>{this.state.remainingTime}</span>\r\n\t\t\t\t\t{chart}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tviewOk: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {status: 200}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Wait);","import React, {Component} from 'react';\r\nimport {comAction} from \"../../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\nimport ComponentTitle from \"../../../Global/reusableComponent/ComponentTitle\";\r\nimport {SpeakableButton} from \"../../../Global/reusableComponent/Button/SpeakableButton\";\r\nimport PropTypes from 'prop-types'\r\nimport './AskOpenDoor.css'\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\thandleClick: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = () => {\r\n\treturn {}\r\n};\r\n\r\nclass AskOpenDoor extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\ttextToShow: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string.isRequired,\r\n\t\t\tdescription: PropTypes.arrayOf(PropTypes.string).isRequired\r\n\t\t})\r\n\t};\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={\"AskOpenDoor\"}>\r\n\t\t\t\t<ComponentTitle>{this.props.textToShow.title}</ComponentTitle>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ul className=\"description\">\r\n\t\t\t\t\t\t{this.props.textToShow.description.map(str =>\r\n\t\t\t\t\t\t\t<li>{str}</li>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<SpeakableButton\r\n\t\t\t\t\t\t\tonClick={this.props.handleClick}>Next</SpeakableButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AskOpenDoor);","import React, {Component} from 'react';\r\nimport Wait from \"../../../Global/Wait\";\r\nimport {SpeakableButton} from \"../../../Global/reusableComponent/Button/SpeakableButton\";\r\nimport {comAction} from \"../../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\nimport ComponentTitle from \"../../../Global/reusableComponent/ComponentTitle\";\r\nimport PropTypes from 'prop-types'\r\nimport './CallHuman.css'\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\thumanIsHere: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n};\r\n\r\n\r\nclass CallHuman extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\ttime: PropTypes.number.isRequired,\r\n\t\ttextToShow: PropTypes.string,\r\n\t\thumanIsHere: PropTypes.func.isRequired\r\n\t};\r\n\t\r\n\trender() {\r\n\t\tlet textToShow = this.props.textToShow || \"[PLACEHOLDER] I'm waiting for a human\";\r\n\t\treturn (\r\n\t\t\t<div className={\"CallHuman\"}>\r\n\t\t\t\t<ComponentTitle>{textToShow}</ComponentTitle>\r\n\t\t\t\t<SpeakableButton\r\n\t\t\t\t\tonClick={this.props.humanIsHere}>{\"I'm here\"}\r\n\t\t\t\t</SpeakableButton>\r\n\t\t\t\t<Wait time={this.props.time}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CallHuman);","import React, {Component} from 'react';\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\nimport PropTypes from 'prop-types'\r\nimport './ShowVideo.css'\r\nimport {SpeakableButton} from \"../reusableComponent/Button/SpeakableButton\";\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\nimport {connect} from \"react-redux\";\r\n\r\nclass ShowVideo extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\ttextToShow: PropTypes.shape({\r\n\t\t\ttitle: PropTypes.string.isRequired,\r\n\t\t\tdescription: PropTypes.arrayOf(PropTypes.string).isRequired\r\n\t\t}),\r\n\t\tvideo: PropTypes.shape({\r\n\t\t\tformat: PropTypes.oneOf(\"16/9\", \"4/3\").isRequired,\r\n\t\t\tpathOnTablet: PropTypes.string.isRequired\r\n\t\t}),\r\n\t};\r\n\t\r\n\t\r\n\trender() {\r\n\t\tconst textToShow = this.props.textToShow || {\r\n\t\t\ttitle: \"Please reproduce the videos\",\r\n\t\t\tdescription: [\"A\", \"B\", \"C\", \"D\"]\r\n\t\t};\r\n\t\t\r\n\t\tlet layout;\r\n\t\tlet video = <video autoPlay loop muted\r\n\t\t                   src={this.props.video['pathOnTablet']}/>;\r\n\t\tswitch (this.props.video[\"format\"]) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tcase \"16/9\":\r\n\t\t\t\tlayout = <div className={\"ShowVideo large\"}>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<ComponentTitle>{textToShow.title}</ComponentTitle>\r\n\t\t\t\t\t<SpeakableButton onClick={this.props.viewOk}>I'm\r\n\t\t\t\t\t\tdone</SpeakableButton>\r\n\t\t\t\t\t<div className={\"bottom\"}>\r\n\t\t\t\t\t\t<div className={\"video large\"}>\r\n\t\t\t\t\t\t\t{video}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<ol className={\"description\"}\r\n\t\t\t\t\t\t    id=\"steps\">{textToShow.description.map(str =>\r\n\t\t\t\t\t\t\t<li>{str}</li>)}\r\n\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"4/3\":\r\n\t\t\t\tlayout = <div className={\"ShowVideo tail\"}>\r\n\t\t\t\t\t<div className={\"video tail\"}>\r\n\t\t\t\t\t\t{video}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text tall\">\r\n\t\t\t\t\t\t<ComponentTitle>{textToShow.title}</ComponentTitle>\r\n\t\t\t\t\t\t<SpeakableButton onClick={this.props.viewOk}>I'm\r\n\t\t\t\t\t\t\tdone</SpeakableButton>\r\n\t\t\t\t\t\t<ol className={\"description\"}\r\n\t\t\t\t\t\t    id=\"steps\">{textToShow.description.map(str =>\r\n\t\t\t\t\t\t\t<li>{str}</li>)}</ol>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\treturn layout\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {}\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\tviewOk: () => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.dataJs.type,\r\n\t\t\t\tdata: {status: 200}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default connect(mapStateToProps,\r\n\tmapDispatchToProps)(ShowVideo);\r\n","import AskName from \"../view/Global/AskName\";\r\nimport AskAge from \"../view/Scenario/Receptionist/AskAge\";\r\nimport AskDrink from \"../view/Global/AskDrink\";\r\nimport {PresentPerson} from \"../view/Scenario/Receptionist/PresentPeople\";\r\nimport Confirm from \"../view/Global/Confirm\";\r\nimport DetailDrinks from \"../view/Scenario/ServingDrinks/DetailDrinks\";\r\nimport GoTo from '../view/Global/GoTo/'\r\nimport FindAvailableDrinks\r\n\tfrom \"../view/Scenario/ServingDrinks/FindAvailableDrinks\";\r\nimport FindWhoWantsDrinks\r\n\tfrom \"../view/Scenario/ServingDrinks/FindWhoWantDrinks\";\r\nimport SeatGuest from \"../view/Scenario/Receptionist/SeatGuest\";\r\nimport AskToFollow from \"../view/Global/AskToFollow\";\r\nimport ServeDrinks from \"../view/Scenario/ServingDrinks/ServeDrinks\";\r\nimport MainMenu from '../view/Global/MainMenu/'\r\nimport Wait from \"../view/Global/Wait\";\r\nimport AskOpenDoor from \"../view/Scenario/Receptionist/AskOpenDoor\";\r\nimport CallHuman from '../view/Scenario/TakeOutTheGarbage/CallHuman'\r\nimport ShowVideo from '../view/Global/ShowVideo'\r\nimport Generic from \"../view/Generic\";\r\n\r\n/**\r\n * Get the Component class from his name (string)\r\n *\r\n * @param view\r\n * @return {*} Component MainMenu is return as default.\r\n */\r\nconst getClassFromView = (view) => {\r\n\treturn viewClassMap[view] || MainMenu;\r\n};\r\n\r\n/**\r\n * @description Map that resolve a name of a view (in views.json) to React component\r\n * If you want to **add new views** you have to modify this object\r\n */\r\nconst viewClassMap = {\r\n\t\"askName\": AskName,\r\n\t\"askDrink\": AskDrink,\r\n\t\"askAge\": AskAge,\r\n\t\"confirm\": Confirm,\r\n\t\"detailDrinks\": DetailDrinks,\r\n\t\"presentPerson\": PresentPerson,\r\n\t\"goTo\": GoTo,\r\n\t\"generic\": Generic,\r\n\t\"findAvailableDrinks\": FindAvailableDrinks,\r\n\t\"findWhoWantsDrinks\": FindWhoWantsDrinks,\r\n\t\"serveDrinks\": ServeDrinks,\r\n\t\"seatGuest\": SeatGuest,\r\n\t\"askToFollow\": AskToFollow,\r\n\t\"mainMenu\": MainMenu,\r\n\t\"wait\": Wait,\r\n\t\"askOpenDoor\": AskOpenDoor,\r\n\t\"callHuman\": CallHuman,\r\n\t\"showVideo\": ShowVideo\r\n\t\r\n\t\r\n};\r\n\r\n/**\r\n * @description Return all possible views of the application.\r\n * @return {Array<String>}\r\n */\r\nconst getAllViewsKey = () => {\r\n\treturn Object.keys(viewClassMap);\r\n};\r\n\r\n\r\nexport {\r\n\tgetClassFromView,\r\n\tgetAllViewsKey\r\n};","import {viewAction} from \"../actions/ViewAction\";\r\nimport Logger from \"../../dev/Logger\";\r\nimport logConfig from '../../config/log'\r\n\r\n\r\nconst INITIAL_STATE = {\r\n\t// Changer ici si on veut charger une vue\r\n\tcurrentView: null,\r\n\tcurrentData: {\r\n\t\ttextToShow: null,\r\n\t\tchoices: []\r\n\t},\r\n\tcomponentVisibility: {\r\n\t\ttimeBoard: viewAction.setComponentVisibility.state.visible\r\n\t}\r\n\t\r\n};\r\n\r\n\r\nconst logger = new Logger(logConfig.reducer.view, \"ViewReducer\");\r\n\r\nconst viewReducer = (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\t\r\n\t\t\r\n\t\tcase viewAction.changeView.type:\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tcurrentView: action.view,\r\n\t\t\t\tcurrentData: action.data\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tcase viewAction.setComponentVisibility.type :\r\n\t\t\t\r\n\t\t\tconst {timeBoard,} = viewAction.setComponentVisibility.component;\r\n\t\t\tif ([timeBoard].includes(action.component)) {\r\n\t\t\t\t\r\n\t\t\t\tconst {hidden, visible} = viewAction.setComponentVisibility.state;\r\n\t\t\t\tif ([hidden, visible].includes(action.state)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (action.component === timeBoard) {\r\n\t\t\t\t\t\tstate = {\r\n\t\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t\tcomponentVisibility: {\r\n\t\t\t\t\t\t\t\t...state.componentVisibility,\r\n\t\t\t\t\t\t\t\ttimeBoard: action.state\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlogger.warn(\"setComponentVisibility\", \"unknown component visibility state\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tlogger.warn(\"setComponentVisibility\", \"unknown component\");\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tbreak;\r\n\t\t\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\treturn state;\r\n};\r\n\r\nexport {\r\n\tviewReducer\r\n}","import {comAction} from \"../actions/CommunicationAction\";\r\nimport Logger from \"../../dev/Logger\";\r\nimport logConfig from '../../config/log'\r\nimport QiWrapper from \"../../model/QiWrapper\";\r\nimport ConfigQiWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {generalManagerHRI, common, tabletLM},} = ConfigQiWrapper.get();\r\n\r\nconst INITIAL_STATE = {\r\n\tlastLocalManagerHeartbeat: null,\r\n\tlastGeneralManagerHeartbeat: null,\r\n\tdelayWithPepper: 0\r\n};\r\nconst logger = new Logger(logConfig.reducer.com, \"ComReducer\");\r\n\r\n\r\nconst possibleActionType = [];\r\nObject.keys(comAction).forEach(key => possibleActionType.push(comAction[key].type));\r\n\r\n/**\r\n * @description Reducer for communication between the locale Manager (py) and JS\r\n */\r\nconst comReducer = (state = INITIAL_STATE, action) => {\r\n\t\t\r\n\t\tif (possibleActionType.includes(action.type)) {\r\n\t\t\t\r\n\t\t\tswitch (action.type) {\r\n\t\t\t\t\r\n\t\t\t\tcase comAction.stepReceived.type:\r\n\t\t\t\t\t\r\n\t\t\t\t\tQiWrapper.raise(generalManagerHRI.stepReceived.ALMemory, null);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tcase comAction.jsHeartbeat.type:\r\n\t\t\t\t\t\r\n\t\t\t\t\tQiWrapper.raise(common.jsHeartbeat.ALMemory, Date.now());\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase comAction.dataJs.type:\r\n\t\t\t\t\tconst {ALMemory} = tabletLM.dataJs;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tQiWrapper.raise(ALMemory, {\r\n\t\t\t\t\t\tdataType: action.dataType,\r\n\t\t\t\t\t\tdata: action.data,\r\n\t\t\t\t\t\tactionId: action.actionId\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase comAction.extHeartbeat.type:\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (state.lastLocalManagerHeartbeat === null && action.time.lm !== undefined) {\r\n\t\t\t\t\t\tstate.delayWithPepper = Math.floor(Date.now() / 1000) - action.time.lm;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tstate = {\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tlastGeneralManagerHeartbeat: action.time.gm,\r\n\t\t\t\t\t\tlastLocalManagerHeartbeat: action.time.lm\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst currentTime = Date.now() / 1000;\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet diffLM = (currentTime - state.lastLocalManagerHeartbeat - state.delayWithPepper);\r\n\t\t\t\t\tconst LMStr = \"No heartbeats from LocalManager since \" + diffLM;\r\n\t\t\t\t\tif (diffLM > 10) {\r\n\t\t\t\t\t\tlogger.error(LMStr)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if (diffLM > 5) {\r\n\t\t\t\t\t\tlogger.warn(LMStr)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet diffGM = (currentTime - state.lastGeneralManagerHeartbeat);\r\n\t\t\t\t\tconst GMStr = \"No heartbeats from LocalManager since \" + diffGM;\r\n\t\t\t\t\tif (diffGM > 10) {\r\n\t\t\t\t\t\tlogger.error(GMStr)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if (diffGM > 5) {\r\n\t\t\t\t\t\tlogger.warn(GMStr)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlogger.debug(currentTime);\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase comAction.askToChangeScenario.type:\r\n\t\t\t\t\tconsole.log('communication reducer')\r\n\t\t\t\t\tconsole.log(action.scenario)\r\n\t\t\t\t\t// QiWrapper.raise(generalManagerHRI.askToChangeScenario.ALMemory, {\r\n\t\t\t\t\t// \tscenario: action.scenario\r\n\t\t\t\t\t// });\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// console.warn(\"Unknown action on commmunication reducer\", action);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn state;\r\n\t\t\r\n\t}\r\n;\r\n\r\nexport {\r\n\tcomReducer\r\n}\r\n","import {toolbarAction} from '../actions/ToolbarAction'\r\n\r\nconst INITIAL_STATE = {\r\n\t// internet: undefined,\r\n\t// pcConnection: undefined,\r\n\t// micro: undefined,\r\n\t// canMove: undefined\r\n\tinternet: toolbarAction.toolbarState.state.ok,\r\n\tpcConnection: toolbarAction.toolbarState.state.ok,\r\n\tmicro: toolbarAction.toolbarState.state.ok,\r\n\tcanMove: toolbarAction.toolbarState.state.ok\r\n};\r\n\r\n\r\nconst possibleActionTypes = [];\r\nObject.keys(toolbarAction).forEach(key => possibleActionTypes.push(toolbarAction[key].type));\r\n\r\nconst toolbarReducer = (state = INITIAL_STATE, action) => {\r\n\t\r\n\t\r\n\tif (possibleActionTypes.includes(action.type)) {\r\n\t\t\r\n\t\t\r\n\t\tif (action.type === toolbarAction.toolbarState.type) {\r\n\t\t\tconst value = action.state;\r\n\t\t\tlet actionPayload = toolbarAction.toolbarState.system;\r\n\t\t\tconst payloads = Object.keys(actionPayload);\r\n\t\t\tfor (const p of payloads) {\r\n\t\t\t\tif (actionPayload[p] === action.system) {\r\n\t\t\t\t\tstate = {\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\t[p]: value,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\treturn state;\r\n};\r\n\r\nexport {\r\n\ttoolbarReducer\r\n}","import {dispatch} from '../redux/Store'\nimport {timeAction} from \"../redux/actions/TimeAction\";\nimport Logger from \"../dev/Logger\";\nimport logConfig from \"../config/log\";\n\nexport default class Timer {\n\t\n\tstatic #startTime;\n\t\n\tstatic #intervalId;\n\t\n\tstatic #lastTime;\n\tstatic logger = new Logger(logConfig.Timer, \"Timer\");\n\t\n\tstatic stopTimer() {\n\t\tclearInterval(Timer.#intervalId);\n\t\tTimer.#intervalId = undefined\n\t}\n\t\n\tstatic startTimer() {\n\t\t\n\t\tif (Timer.#intervalId === undefined) {\n\t\t\tTimer.#startTime = Date.now();\n\t\t\tTimer.#lastTime = Date.now();\n\t\t\t\n\t\t\tTimer.#intervalId = setInterval(() => {\n\t\t\t\tconst dateNow = Date.now();\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: timeAction.passSecond.type,\n\t\t\t\t\tglobalElapsedTime: Timer.getElapsedTime(Timer.#startTime, dateNow),\n\t\t\t\t\ttimeFromLastEvent: Timer.getElapsedTime(Timer.#lastTime, dateNow)\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tTimer.logger.log(Timer.#lastTime);\n\t\t\t\t\n\t\t\t\tTimer.#lastTime = dateNow;\n\t\t\t\tTimer.logger.log(Timer.#lastTime)\n\t\t\t\t\n\t\t\t}, 1000);\n\t\t}\n\t\t\n\t\t\n\t}\n\t\n\t\n\tstatic getElapsedTime(from, to) {\n\t\treturn (to - from) / 1000;\n\t}\n\t\n\t\n}","import {timeAction} from \"../actions/TimeAction\";\r\nimport debug from '../../config/log';\r\nimport Logger from \"../../dev/Logger\";\r\nimport Timer from \"../../model/Timer\";\r\nimport ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\n\r\nconst logger = new Logger(debug.reducer.time, \"TimeReducer\");\r\nconst {apis: {generalManagerHRI}} = ConfigWrapper.get();\r\n\r\nconst init = (state, steps) => {\r\n\t\r\n\t\r\n\tstate = {...state};\r\n\t\r\n\t\r\n\tconst getDataFromJson = (jsonValue) => {\r\n\t\t\r\n\t\treturn {\r\n\t\t\tname: jsonValue.name,\r\n\t\t\teta: jsonValue.eta,\r\n\t\t\tid: jsonValue.id\r\n\t\t}\r\n\t};\r\n\tlet order = 0;\r\n\tObject.keys(steps).forEach(key => {\r\n\t\tstate.todoSteps.push({\r\n\t\t\t...getDataFromJson(steps[key]),\r\n\t\t\torder: order++\r\n\t\t});\r\n\t});\r\n\t\r\n\tstate.allSteps = [...state.todoSteps];\r\n\t\r\n\tconsole.warn(\"State after init\", state);\r\n\t\r\n\treturn state\r\n};\r\n\r\n\r\nconst DEFAULT_STATE = {\r\n\t// todo get only one list of steps with status incorporated\r\n\tcurrentStep: null,\r\n\ttodoSteps: [],\r\n\tdoneSteps: [],\r\n\tskippedSteps: [],\r\n\tallSteps: [],\r\n\tglobalElapsedTime: 0,\r\n\tstepElapsedTime: 0,\r\n\thaveToReset: false\r\n\t\r\n};\r\n\r\nfunction clone(obj) {\r\n\treturn JSON.parse(JSON.stringify(obj));\r\n}\r\n\r\nfunction getDefaultState() {\r\n\treturn clone(DEFAULT_STATE);\r\n}\r\n\r\n\r\nconst INITIAL_STATE = init(getDefaultState(), []);\r\n\r\nconst possibleActionType = [];\r\nObject.keys(timeAction).forEach(key => {\r\n\tpossibleActionType.push(timeAction[key].type)\r\n});\r\n\r\n\r\nconst timeReducer = (state = INITIAL_STATE, action) => {\r\n\t\r\n\tlet clonedState = {...state}, stepIndex, todoSteps;\r\n\t\r\n\t// Dont allow other reducer's action to interact with this reducer\r\n\t\r\n\tif (possibleActionType.includes(action.type)) {\r\n\t\tlet doneSteps;\r\n\t\tlet todoSteps;\r\n\t\tlet currentStep;\r\n\t\tswitch (action.type) {\r\n\t\t\t\r\n\t\t\tcase timeAction.passSecond.type:\r\n\t\t\t\t\r\n\t\t\t\tif (action.globalElapsedTime !== undefined && action.timeFromLastEvent !== undefined) {\r\n\t\t\t\t\tlogger.log(timeAction.passSecond.type, action.globalElapsedTime);\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonedState = {\r\n\t\t\t\t\t\t...clonedState,\r\n\t\t\t\t\t\tglobalElapsedTime: action.globalElapsedTime,\r\n\t\t\t\t\t\tstepElapsedTime: clonedState.stepElapsedTime + action.timeFromLastEvent\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlogger.warn(timeAction.passSecond.type, \"Care no action.globalElapsedTime\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase timeAction.resetStepsProgression.type:\r\n\t\t\t\tclonedState.haveToReset = action.state;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase timeAction.currentStep.type:\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (action.index !== undefined) {\r\n\t\t\t\t\tconsole.log(\"HEY 1\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst researchedStep = state.allSteps[action.index];\r\n\t\t\t\t\t\r\n\t\t\t\t\tstepIndex = clonedState.todoSteps.findIndex(step => step.id === researchedStep.id);\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log(\"HEY 2\", stepIndex);\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonedState.stepElapsedTime = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\ttodoSteps = [...state.todoSteps];\r\n\t\t\t\t\tconst step = todoSteps.splice(stepIndex, 1)[0];\r\n\t\t\t\t\t\r\n\t\t\t\t\t// console.log(\"HEY 2.5\", step);\r\n\t\t\t\t\t// if (clonedState.currentStep !== null) {\r\n\t\t\t\t\t// \tconsole.log(\"HEY 3\");\r\n\t\t\t\t\t// \ttodoSteps.push(clonedState.currentStep);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonedState = {\r\n\t\t\t\t\t\t...clonedState,\r\n\t\t\t\t\t\tcurrentStep: {\r\n\t\t\t\t\t\t\t...step\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttodoSteps: todoSteps\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.warn(\"HEY 4\", clonedState)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlogger.warn(timeAction.currentStep.type, \"Care try to currentStep with an undefined step\");\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase timeAction.stepCompleted.type:\r\n\t\t\t\t\r\n\t\t\t\tdoneSteps = [...clonedState.doneSteps];\r\n\t\t\t\ttodoSteps = [...clonedState.todoSteps];\r\n\t\t\t\tcurrentStep = clonedState.currentStep;\r\n\t\t\t\t\r\n\t\t\t\taction.indexes.forEach(index => {\r\n\t\t\t\t\tconst researchedStep = clonedState.allSteps[index];\r\n\t\t\t\t\tif (clonedState.currentStep.id === researchedStep.id) {\r\n\t\t\t\t\t\tcurrentStep = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst indexInTodo = todoSteps.findIndex(step => step.id === researchedStep.id);\r\n\t\t\t\t\tif (indexInTodo > -1) {\r\n\t\t\t\t\t\ttodoSteps.splice(indexInTodo, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdoneSteps.push(researchedStep);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tclonedState = {\r\n\t\t\t\t\t...clonedState,\r\n\t\t\t\t\tcurrentStep: currentStep,\r\n\t\t\t\t\ttodoSteps: todoSteps,\r\n\t\t\t\t\tdoneSteps: doneSteps,\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase timeAction.stepSkipped.type:\r\n\t\t\t\t// action.index\r\n\t\t\t\tdoneSteps = [...clonedState.doneSteps];\r\n\t\t\t\tcurrentStep = clonedState.currentStep;\r\n\t\t\t\taction.indexes.forEach(index => {\r\n\t\t\t\t\tconst researchedStep = clonedState.allSteps[index];\r\n\t\t\t\t\tif (clonedState.currentStep.id === researchedStep.id) {\r\n\t\t\t\t\t\tcurrentStep = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdoneSteps.push(clonedState.allSteps[index]);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tclonedState = {\r\n\t\t\t\t\t...clonedState,\r\n\t\t\t\t\tcurrentStep: currentStep,\r\n\t\t\t\t\tdoneSteps: doneSteps,\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase timeAction.timerState.type:\r\n\t\t\t\t\r\n\t\t\t\tconst {on, off} = generalManagerHRI.timerState.state;\r\n\t\t\t\t\r\n\t\t\t\tif ([on, off].includes(action.state)) {\r\n\t\t\t\t\tswitch (action.state) {\r\n\t\t\t\t\t\tcase on:\r\n\t\t\t\t\t\t\tTimer.startTimer();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcase off:\r\n\t\t\t\t\t\t\tTimer.stopTimer();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlogger.warn(\"ToggleTimer\", \"Unknown ALMstate for timerState\")\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase timeAction.replaceAllSteps.type:\r\n\t\t\t\t\r\n\t\t\t\tlogger.debug(\"You are un replaceAllSteps reducer\", action);\r\n\t\t\t\tif (action.steps.length !== undefined) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// let steps = [];\r\n\t\t\t\t\t// console.warn(1, clonedState, steps);\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// action.steps.forEach(step => {\r\n\t\t\t\t\t// \t// Add only title steps (in blue in excel)\r\n\t\t\t\t\t// \tif (step.action === \"\") {\r\n\t\t\t\t\t// \t\tsteps.push(step);\r\n\t\t\t\t\t// \t\tconsole.log(\"DOAZ?D?ZAOXAZ\", step);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t//\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// });\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// steps = steps.sort((step1, step2) => {\r\n\t\t\t\t\t// \treturn step1['order'] < step2['order'] ? -1 : 1\r\n\t\t\t\t\t// });\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tlogger.debug(\"replace B\", clonedState);\r\n\t\t\t\t\tclonedState = init(getDefaultState(), action.steps);\r\n\t\t\t\t\tlogger.debug(\"replace A\", clonedState);\r\n\t\t\t\t\tconsole.warn(2, clonedState, action.steps)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\treturn clonedState;\r\n};\r\n\r\nexport {\r\n\ttimeReducer\r\n}\r\n\r\n","import ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {generalManagerHRI}} = ConfigWrapper.get();\r\n\r\nexport const scenarioAction = {\r\n\tcurrentScenario: {\r\n\t\ttype: generalManagerHRI.currentScenario.reduxKey,\r\n\t\tscenario: \"SCENARIO\"\r\n\t}\r\n};","import {scenarioAction} from '../actions/ScenarioAction'\r\n\r\n\r\nconst INITIAL_STATE = {\r\n\t// Changer ici si on veut load un scenario nous mëme\r\n\tcurrent: {\r\n\t\tname: \"None\"\r\n\t}\r\n};\r\n\r\n\r\nexport const scenarioReducer = (state = INITIAL_STATE, action) => {\r\n\t\r\n\tif (action.type === scenarioAction.currentScenario.type) {\r\n\t\t\r\n\t\tstate = {\r\n\t\t\t\r\n\t\t\t...state,\r\n\t\t\t\r\n\t\t\tcurrent: {\r\n\t\t\t\tname: action.scenarioName\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t}\r\n\t\r\n\treturn state;\r\n};","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {createLogger} from 'redux-logger'\r\nimport {viewReducer} from \"./reducers/ViewReducer\";\r\nimport {comReducer} from \"./reducers/CommunicationReducer\";\r\nimport {toolbarReducer} from \"./reducers/ToolbarReducer\";\r\nimport {timeReducer} from \"./reducers/TimeReducer\";\r\nimport {scenarioReducer} from './reducers/ScenarioReducer'\r\nimport logConfig from '../config/log'\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\n\r\nlet dispatch = null;\r\n\r\nlet localStore;\r\n\r\nconst getStore = () => {\r\n\tif (localStore === undefined) {\r\n\t\tlet store;\r\n\t\tif (logConfig.redux) {\r\n\t\t\tconst logger = createLogger({\r\n\t\t\t\tlevel: \"info\",\r\n\t\t\t\tdiff: false,\r\n\t\t\t\tduration: true\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tstore = createStore(\r\n\t\t\t\tcombineReducers({\r\n\t\t\t\t\tview: viewReducer,\r\n\t\t\t\t\ttoolbar: toolbarReducer,\r\n\t\t\t\t\tcom: comReducer,\r\n\t\t\t\t\ttime: timeReducer,\r\n\t\t\t\t\tscenario: scenarioReducer\r\n\t\t\t\t}),\r\n\t\t\t\t{},\r\n\t\t\t\tcomposeWithDevTools(applyMiddleware(logger))\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tstore = createStore(\r\n\t\t\t\tcombineReducers({\r\n\t\t\t\t\tview: viewReducer,\r\n\t\t\t\t\ttoolbar: toolbarReducer,\r\n\t\t\t\t\tcom: comReducer,\r\n\t\t\t\t\ttime: timeReducer,\r\n\t\t\t\t\tscenario: scenarioReducer\r\n\t\t\t\t\t\r\n\t\t\t\t}),\r\n\t\t\t\t{},\r\n\t\t\t\tcomposeWithDevTools()\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tdispatch = store.dispatch;\r\n\t\tlocalStore = store;\r\n\t}\r\n\t\r\n\treturn localStore;\r\n\t\r\n};\r\n\r\nexport default getStore;\r\nexport {\r\n\tdispatch,\r\n\tlocalStore as store\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nclass ComponentTitle extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<h2 className={\"ComponentTitle\"}>{this.props.children}</h2>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ComponentTitle;","module.exports = __webpack_public_path__ + \"static/media/internetError.d78a4b0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/muteMicro.34690a2b.svg\";","module.exports = __webpack_public_path__ + \"static/media/pcProblem.55978f42.svg\";","import 'core-js';\r\nimport 'core-js/es/set'\r\nimport 'core-js/es/map'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n// import QiWrapper from \"./model/QiWrapper\";\r\nimport ConfigWrapper from \"./controller/ConfigWrapper\";\r\n\r\nasync function initApp() {\r\n\t\r\n\t// const qi = await QiWrapper.createInstance();\r\n\tawait ConfigWrapper.setConfigFromALMemory();\r\n\t\r\n\t// const ALMemoryBridge = require(\"./controller/ALMemoryBridge\").default;\r\n\t\r\n\t// ALMemoryBridge.initBridge(qi);\r\n\tconst App = require(\"./App\").default;\r\n\tconst Provider = require(\"react-redux\").Provider;\r\n\tconst getStore = require(\"./redux/Store\").default;\r\n\tconst Debug = require(\"./view/Debug/Debug\").default;\r\n\t\r\n\tReactDOM.render(<Provider store={getStore()}>\r\n\t\t<App/>\r\n\t\t<Debug/>\r\n\t</Provider>, document.getElementById('root'));\r\n\t\r\n\t\r\n}\r\n\r\ninitApp().then(() => {\r\n\tconsole.log(\"App Loaded\")\r\n\t// const {apis: {tabletLM}} = ConfigWrapper.get();\r\n\t// QiWrapper.raise(tabletLM[\"tabletOperational\"][\"ALMemory\"], {'time': Date.now()})\r\n\r\n\t\r\n\t\r\n});\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n","import QiWrapper from \"../model/QiWrapper\";\r\n\r\nconst [HEARTBEAT, EVENT, DEBUG, INFO, WARNING, ERROR, CRITICAL] = [0, 1, 2, 3, 4, 5, 6];\r\nconst loggerALMemory = \"R2019/Global/LmLogger\";\r\nexport default class Logger {\r\n\t\r\n\t#state;\r\n\t#label;\r\n\t\r\n\tconstructor(state, label = \"\") {\r\n\t\tif (state && label !== \"\") {\r\n\t\t\tconsole.info(\"Logging on \" + label)\r\n\t\t}\r\n\t\t\r\n\t\tthis.#state = state;\r\n\t\tthis.#label = label\r\n\t}\r\n\t\r\n\t\r\n\tdebug(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.debug(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, DEBUG)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tlog(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.log(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, INFO);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tsendToLm(sendToLm, funcName, x, level) {\r\n\t\tif (sendToLm)\r\n\t\t{\r\n\t\t\tQiWrapper.raise(loggerALMemory, {\r\n\t\t\t\tmessage: `${funcName} ${x}`,\r\n\t\t\t\tapplication: `${this.#label}`,\r\n\t\t\t\tlevel: level\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\twarn(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.warn(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, WARNING)\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\terror(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.error(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, ERROR)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tevent(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.info(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, EVENT)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tcricical(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.error(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, CRITICAL)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\theartbeat(funcName, x = \"\", sendToLm = true) {\r\n\t\tif (this.#state)\r\n\t\t{\r\n\t\t\tconsole.info(`${this.#label}: ${funcName}`, x);\r\n\t\t\tthis.sendToLm(sendToLm, funcName, x, HEARTBEAT)\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\ttime(label) {\r\n\t\tif (this.#state)\r\n\t\t\tconsole.time(label);\r\n\t}\r\n\t\r\n\t\r\n\ttimeEnd(label) {\r\n\t\tif (this.#state)\r\n\t\t\tconsole.timeEnd(label);\r\n\t}\r\n\t\r\n}","const deepFreeze = (obj) => {\r\n\tif (typeof obj !== \"string\") {\r\n\t\tconst keys = Object.keys(obj);\r\n\t\tkeys.forEach(key => {\r\n\t\t\tdeepFreeze(obj[key])\r\n\t\t});\r\n\t}\r\n\tObject.freeze(obj);\r\n\t\r\n};\r\n\r\nexport {\r\n\tdeepFreeze\r\n}","/**\r\n * @description this class is just a wrapper App Configs (Steps, drinks, ...)\r\n */\r\n\r\n// import QiWrapper from \"../model/QiWrapper\";\r\nimport Logger from \"../dev/Logger\";\r\nimport {deepFreeze} from \"../dev/Tools\";\r\nimport React from \"react\";\r\nimport ReactDOM from 'react-dom'\r\n\r\n/**\r\n * @description the almemory where is place the json with all informations about which Almemory is used by the App\r\n * @type {string}\r\n */\r\nconst CONFIG_ALMEMORY = \"R2019/Api/Common\";\r\n\r\n\r\nexport default class ConfigWrapper\r\n{\r\n\t// static #_steps = steps;\r\n\t\r\n\tstatic #_videos;\r\n\t\r\n\tstatic #_locations;\r\n\tstatic #_images;\r\n\tstatic #_apis;\r\n\t\r\n\tstatic #_imPepper = false;\r\n\t\r\n\t\r\n\tstatic logger = new Logger(true, \"ConfigWrapper\");\r\n\t\r\n\t// static #_AlMemoryEvent ;\r\n\t\r\n\tstatic init() {\r\n\t\tconst agent = navigator.userAgent\r\n\t\t\r\n\t\t// todo to get Navigator version\r\n\t\t// alert(agent);\r\n\t\t\r\n\t\tconst allowedVersion = [\r\n\t\t\t\"Chrome/44.0.2403.157\", // Pepper 1.8a\r\n\t\t\t\"Chrome/39.0.2171.71\"   // Pepper 1.6\r\n\t\t];\r\n\t\tallowedVersion.forEach(v => {\r\n\t\t\tConfigWrapper.#_imPepper = ConfigWrapper.#_imPepper || agent.includes(v);\r\n\t\t});\r\n\t\tconsole.log(\"init done\", ConfigWrapper.#_imPepper)\r\n\t}\r\n\t\r\n\tstatic async setConfigFromALMemory() {\r\n\t\t\r\n\t\tConfigWrapper.init();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tConfigWrapper.#_apis = {\r\n\t\t\t\tcommon: {\r\n          \"prefix\": \"R2019\",\r\n          \"AL_VALUE\": {\r\n              \"drinks\": \"R2019/Global/Drinks\",\r\n              \"names\": \"R2019/Global/Names\",\r\n              \"locations\": \"R2019/Global/Locations\",\r\n              \"guests\": \"R2019/Receptionist/Guests\",\r\n              \"images\": \"R2019/Global/Images\",\r\n              \"videos\": \"R2019/Global/Videos\",\r\n              \"apis\": {\r\n                  \"common\": \"R2019/Api/Common\",\r\n                  \"generalManagerHRI\": \"R2019/Api/GeneralManagerHRI\",\r\n                  \"tabletLM\": \"R2019/Api/TabletLM\"\r\n              }\r\n          },\r\n          \"toolbarState\": {\r\n              \"ALMemory\": \"R2019/Global/ChangeToolbar\",\r\n              \"reduxKey\": \"CHANGE_TOOLBAR\",\r\n              \"state\": {\r\n                  \"ok\": \"OK\",\r\n                  \"error\": \"ERROR\"\r\n              },\r\n              \"system\": {\r\n                  \"internet\": \"INTERNET\",\r\n                  \"pcConnection\": \"PC_CONNECTION\",\r\n                  \"micro\": \"MICRO\",\r\n                  \"canMove\": \"CAN_MOVE\"\r\n              }\r\n          },\r\n        \r\n      \r\n          \"jsHeartbeat\": {\r\n              \"ALMemory\": \"R2019/Global/JsHearbeat\",\r\n              \"reduxKey\": \"HEART_BEAT\",\r\n              \"payload\": \"__timestamp\"\r\n          },\r\n      \r\n          \"localManagerHeartbeat\": {\r\n              \"ALMemory\": \"R2019/Global/LMHearbeat\",\r\n              \"payload\": \"__timestamp\"\r\n          },\r\n      \r\n          \"generalManagerHeartbeat\": {\r\n              \"ALMemory\": \"R2019/Global/GMHearbeat\",\r\n              \"payload\": \"__timestamp\"\r\n          }\r\n      },\r\n\t\t\t\ttabletLM: null,\r\n\t\t\t\tgeneralManagerHRI: null\r\n\t\t\t};\r\n\t\t\t\r\n\t\t// \t// ConfigWrapper.#_apis.tabletLM = JSON.parse(\r\n\t\t// \t// \tawait QiWrapper.getALValue(\r\n\t\t// \t// \t\tConfigWrapper.#_apis.common[\"AL_VALUE\"][\"apis\"][\"tabletLM\"]\r\n\t\t// \t// \t)\r\n    // \t// );\r\n      ConfigWrapper.#_apis.tabletLM = {\r\n        \"tabletOperational\": {\r\n            \"ALMemory\": \"R2019/Global/SendTabletOperational\",\r\n            \"time\": \"__timestamp\"\r\n        },\r\n    \r\n        \"currentView\": {\r\n            \"ALMemory\": \"R2019/Global/CurrentView\",\r\n            \"reduxKey\": \"ChangeCurrentView\",\r\n            \"view\":  \"__viewKey\",\r\n            \"data\": \"_data\"\r\n        },\r\n    \r\n        \"dataJs\": {\r\n            \"ALMemory\": \"R2019/Receptionist/SendDataJs\",\r\n            \"reduxKey\": \"SendData\",\r\n            \"dataType\": {\r\n                \"name\": \"DATA/NAME\",\r\n                \"drink\": \"DATA/DRINK\",\r\n                \"age\": \"DATA/AGE\",\r\n                \"confirm\": \"DATA/CONFIRM\"\r\n            },\r\n            \"data\": \"__DATA\"\r\n        },\r\n      \r\n        \"dataPython\": {\r\n            \"ALMemory\": \"R2019/Receptionist/SendDataPython\",\r\n            \"dataType\": {\r\n                \"name\": \"DATA/NAME\",\r\n                \"drink\": \"DATA/DRINK\",\r\n                \"age\": \"DATA/AGE\"\r\n            },\r\n            \"data\": \"__DATA\"\r\n        },\r\n        \"localManagerLogger\": {\r\n        \"ALMemory\": \"R2019/Global/LmLogger\",\r\n        \"message\": \"string\",\r\n        \"application\": \"string\",\r\n        \"level\": {\r\n          \"HEARTBEAT\": 0,\r\n          \"EVENT\": 1,\r\n          \"DEBUG\": 2,\r\n          \"INFO\": 3,\r\n          \"WARNING\": 4,\r\n          \"ERROR\": 5,\r\n          \"CRITIAL\": 6\r\n        }\r\n      }\r\n    }\r\n\t\t\t\r\n\t\t\tConfigWrapper.#_apis.generalManagerHRI = {\r\n        \"currentScenario\": {\r\n            \"ALMemory\": \"R2019/Global/stepsList\",\r\n            \"reduxKey\": \"currentScenario\",\r\n            \"scenario\": \"__SCENARIO\"\r\n        },\r\n        \"currentStep\": {\r\n            \"ALMemory\": \"R2019/Global/currentStep\",\r\n            \"reduxKey\": \"currentStep\",\r\n            \"stepId\": \"__STEP_ID\"\r\n        },\r\n        \"resetSteps\": {\r\n            \"ALMemory\":\"R2019/Global/resetSteps\",\r\n            \"reduxKey\": \"resetSteps\"\r\n        },\r\n        \"stepSkipped\": {\r\n            \"ALMemory\": \"R2019/Global/stepSkipped\",\r\n            \"reduxKey\": \"stepSkipped\",\r\n            \"stepId\": \"__STEP_ID\"\r\n        },\r\n        \"stepCompleted\": {\r\n            \"ALMemory\": \"R2019/Global/stepDone\",\r\n            \"reduxKey\": \"stepCompleted\",\r\n            \"stepId\": \"__STEP_ID\"\r\n        },\r\n        \"stepReceived\": {\r\n            \"reduxKey\": \"stepReceived\",\r\n            \"ALMemory\": \"R2019/Global/stepReceived\"\r\n        },\r\n        \"timerState\": {\r\n            \"ALMemory\": \"R2019/Global/toggleTimer\",\r\n            \"reduxKey\": \"toggleTimer\",\r\n            \"state\": {\r\n                \"on\": \"TOGGLE_TIMER/ON\",\r\n                \"off\": \"TOGGLE_TIMER/OFF\"\r\n            }\r\n        },\r\n        \"currentAction\": {\r\n            \"ALMemory\": \"R2019/Global/CurrentAction\",\r\n            \"actionId\": \"__Step_ID\"\r\n        },\r\n        \"askToChangeScenario\": {\r\n            \"ALMemory\": \"R2019/Global/AskToChangeScenario\",\r\n            \"reduxKey\": \"askToChangeScenario\",\r\n            \"scenario\": \"_scenarioName\"\r\n        },\r\n        \"actionComplete\": {\r\n            \"ALMemory\": \"R2019/Global/ActionComplete\",\r\n            \"reduxKey\": \"actionComplete\"\r\n        }\r\n    };\r\n\t\t\t\r\n      \r\n    ConfigWrapper.#_images = [{\"id\": \"cpe\", \"pathOnTablet\": \"img/images/cpe.png\", \"name\": \"Cpe\"}, {\"id\": \"liris\", \"pathOnTablet\": \"img/images/liris.png\", \"name\": \"Liris\"}, {\"id\": \"insa\", \"pathOnTablet\": \"img/images/insa.png\", \"name\": \"Insa\"}, {\"id\": \"lyontech\", \"pathOnTablet\": \"img/images/lyontech.png\", \"name\": \"lyontech\"}, {\"id\": \"inria\", \"pathOnTablet\": \"img/images/inria.png\", \"name\": \"Inria\"}, {\"id\": \"citi\", \"pathOnTablet\": \"img/images/citi.png\", \"name\": \"Citi\"}];\r\n\t\t// \t// ConfigWrapper.#_images = JSON.parse(\r\n\t\t// \t// \tawait QiWrapper.getALValue(\r\n\t\t// \t// \t\tConfigWrapper.#_apis.common['AL_VALUE']['images']\r\n\t\t// \t// \t)\r\n\t\t// \t// );\r\n      \r\n    ConfigWrapper.#_locations = [{\"id\": \"bar\", \"pathOnTablet\": \"img/locations/bar.png\", \"name\": \"Bar\"}, {\"id\": \"livingRoom\", \"pathOnTablet\": \"img/locations/livingRoom.png\", \"name\": \"Living room\"}, {\"id\": \"entrance\", \"pathOnTablet\": \"img/locations/entrance.png\", \"name\": \"Entrance\"}, {\"id\": \"bin1\", \"pathOnTablet\": \"img/locations/bin.png\", \"name\": \"Bin 1\"}, {\"id\": \"bin2\", \"pathOnTablet\": \"img/locations/bin2.png\", \"name\": \"Bin 2\"}, {\"id\": \"collectionZone\", \"pathOnTablet\": \"img/locations/collectionZone.png\", \"name\": \"Collection Zone\"}];\r\n\t\t\t// ConfigWrapper.#_locations = JSON.parse(\r\n\t\t\t// \tawait QiWrapper.getALValue(\r\n\t\t\t// \t\tConfigWrapper.#_apis.common[\"AL_VALUE\"][\"locations\"]\r\n\t\t\t// \t)\r\n\t\t\t// );\r\n\t\t\t\r\n\t\t// \t// const rawVideos = JSON.parse(\r\n\t\t// \t// \tawait QiWrapper.getALValue(\r\n\t\t// \t// \t\tConfigWrapper.#_apis.common[\"AL_VALUE\"][\"videos\"]\r\n\t\t// \t// \t)\r\n\t\t// \t// );\r\n\t\t\t\r\n\t\t// \tConfigWrapper.#_videos = {};\r\n\t\t// \t// rawVideos.forEach(video => {\r\n\t\t// \t// \tConfigWrapper.#_videos[video[\"id\"]] = video['pathOnTablet']\r\n\t\t// \t// });\r\n\t\t\tconst got = ConfigWrapper.get()\r\n\t\t\tdeepFreeze(got);\r\n\t\t\t// ConfigWrapper.logger.log(\"ConfigWrapper logged from Naoqi\", got);\r\n\t\t\t\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(\"Error in ConfigWrapper\", e);\r\n\t\t\tconst style = {\r\n\t\t\t\tbackgroundColor: \"#FFF\",\r\n\t\t\t\tcolor: \"#F00\",\r\n\t\t\t\tdisplay: \"block\",\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tleft: 0\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tReactDOM.render(<p style={style}>Error while initialising ALMemory\r\n\t\t\t\t(Config) : can't read Common API in ALMemories, make sure that\r\n\t\t\t\tLocal manager is started</p>, document.querySelector(\"body\"));\r\n\t\t\tconsole.log(\"Done\")\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t *\r\n\t * @return {{apis : {common, tabletLM, generalManagerHRI}, imPepper, images, locations,  videos}}\r\n\t */\r\n\tstatic get() {\r\n\t\t\r\n\t\t\r\n\t\treturn {\r\n\t\tlocations: ConfigWrapper.#_locations,\r\n\t\t// \tvideos: ConfigWrapper.#_videos,\r\n\t\t\timages: ConfigWrapper.#_images,\r\n\t\t// \timPepper: ConfigWrapper.#_imPepper,\r\n\t\t\tapis: {\r\n\t\t\t\tcommon: ConfigWrapper.#_apis.common,\r\n\t\t\t\ttabletLM: ConfigWrapper.#_apis.tabletLM,\r\n\t\t\t\tgeneralManagerHRI: ConfigWrapper.#_apis.generalManagerHRI\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}","import ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {common}} = ConfigWrapper.get();\r\n\r\nexport const toolbarAction = {\r\n\t\r\n\ttoolbarState: {\r\n\t\ttype: common.toolbarState.reduxKey,\r\n\t\tstate: {\r\n\t\t\tok: common.toolbarState.state.ok,\r\n\t\t\terror: common.toolbarState.state.error\r\n\t\t},\r\n\t\tsystem: {\r\n\t\t\t...common.toolbarState.system\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {};\r\n}\r\n\r\n\r\nexport class SpeakableButton extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\tonClick: PropTypes.func.isRequired,\r\n\t\tcolor: PropTypes.oneOf([\"info\", \"danger\", \"warning\", \"success\", \"ok\", \"no\"]),\r\n\t\timage: PropTypes.object\r\n\t};\r\n\t\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst color = this.props.color || \"classic\";\r\n\t\t\r\n\t\tlet image = this.props.image || \"\";\r\n\t\treturn (\r\n\t\t\t<button onClick={this.props.onClick} className={`btn btn-${color}`}>\r\n\t\t\t\t{image}\r\n\t\t\t\t<p>\"{this.props.children}\"</p>\r\n\t\t\t</button>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n)(SpeakableButton);","import ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {generalManagerHRI}} = ConfigWrapper.get();\r\n\r\n\r\nexport const timeAction = {\r\n\tpassSecond: {\r\n\t\ttype: \"PASS_A_SECOND\",\r\n\t\tglobalElapsedTime: 0\r\n\t},\r\n\t\r\n\tcurrentStep: {\r\n\t\ttype: generalManagerHRI.currentStep.reduxKey,\r\n\t},\r\n\t\r\n\tstepSkipped: {\r\n\t\ttype: generalManagerHRI.stepSkipped.reduxKey,\r\n\t},\r\n\t\r\n\tstepCompleted: {\r\n\t\ttype: generalManagerHRI.stepCompleted.reduxKey,\r\n\t},\r\n\ttimerState: {\r\n\t\ttype: generalManagerHRI.timerState.reduxKey,\r\n\t\tstate: generalManagerHRI.timerState.state,\r\n\t},\r\n\t\r\n\tresetStepsProgression: {\r\n\t\ttype: \"R2019/Timeboard/ResetStepsProgression\",\r\n\t},\r\n\t\r\n\treplaceAllSteps: {\r\n\t\ttype: \"REPLACE_ALL_STEPS\",\r\n\t\tsteps: [\"Steps\"]\r\n\t}\r\n\t\r\n};\r\n\r\n","import ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {tabletLM}} = ConfigWrapper.get();\r\n\r\nexport const viewAction = {\r\n\tchangeView: {\r\n\t\ttype: tabletLM.currentView.reduxKey\r\n\t},\r\n\t\r\n\t\r\n\tsetComponentVisibility: {\r\n\t\ttype: \"SET_COMPONENT_VISIBILITY\",\r\n\t\tcomponent: {\r\n\t\t\ttimeBoard: \"TIMEBOARD\"\r\n\t\t},\r\n\t\tstate: {\r\n\t\t\tvisible: \"VISIBLE\",\r\n\t\t\thidden: \"HIDE\"\r\n\t\t}\r\n\t}\r\n\t\r\n};\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport PropTypes from 'prop-types'\r\nimport Logger from \"../../dev/Logger\";\r\nimport logConfig from '../../config/log'\r\n\r\nimport './index.css'\r\nimport {getClassFromView} from \"../../controller/ViewStepBridge\";\r\nimport MainMenu from \"../Global/MainMenu\";\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\tview: state.view,\r\n\t\tscenario: state.scenario\r\n\t};\r\n}\r\n\r\nclass ViewManager extends Component {\r\n\t\r\n\tstatic logger = new Logger(logConfig.ViewManager, \"ViewManager\");\r\n\t\r\n\tstatic propTypes = {\r\n\t\tscenario: PropTypes.object.isRequired, // redux\r\n\t\tclassName: PropTypes.string\r\n\t};\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tcurrentView: this.props.view.currentView,\r\n\t\t\tcurrentScenario: this.props.scenario.current,\r\n\t\t\tcurrentData: this.props.view.currentData\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\t\r\n\t\t// Checks if we need to change the current view (if new view or data (nextprops) are differents from the previous one (prevState))\r\n\t\tif (nextProps.view.currentView !== prevState.currentView || nextProps.view.currentData !== prevState.currentData) {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentView: nextProps.view.currentView,\r\n\t\t\t\tcurrentData: nextProps.view.currentData\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Check if it's a new scenario\r\n\t\tif (nextProps.scenario.current !== prevState.currentScenario) {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentScenario: nextProps.scenario.current\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tcomponentDidCatch(error, errorInfo) {\r\n\t\tconsole.error(\"Error in ViewManager\", error, errorInfo)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet comp;\r\n\t\t// Default view\r\n\t\tif (this.state.currentView === null) {\r\n\t\t\tcomp = <MainMenu>Please click on the scenario</MainMenu>\r\n\t\t} else {\r\n\t\t\t// Create the center headerview in function of view in state and send their props\r\n\t\t\tcomp = React.createElement(getClassFromView(this.state.currentView), {\r\n\t\t\t\t\t...this.state.currentData\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t\t\r\n\t\tViewManager.logger.log(\"render\", comp);\r\n\t\t\r\n\t\tlet className = \"ViewManager\";\r\n\t\tclassName += (this.props.className) ? this.props.className : \"\";\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={className}>\r\n\t\t\t\t{comp}\r\n\t\t\t</div>\r\n\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n)(ViewManager);","import React, {Component} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport './ProgressBar.css'\r\nimport Logger from \"../../../dev/Logger\";\r\nimport logConfig from '../../../config/log'\r\n\r\nconst DEFAULT_COLOR = {r: 102, g: 226, b: 23};\r\n\r\n\r\nclass ProgressBar extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\tcurrent: PropTypes.number.isRequired,\r\n\t\tmax: PropTypes.number.isRequired,\r\n\t};\r\n\t\r\n\tstatic defaultProps = {\r\n\t\tcurrent: -1\r\n\t};\r\n\t\r\n\tstatic logger = new Logger(logConfig.ProgressBar, \"ProgressBar\");\r\n\t\r\n\t\r\n\tconstructor(props) {\r\n\t\t\r\n\t\t\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tmax: props.max,\r\n\t\t\tcurrent: props.current,\r\n\t\t\tcolor: {...DEFAULT_COLOR},\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic addToColor(color, field, value) {\r\n\t\tif (color[field] !== undefined) {\r\n\t\t\tcolor[field] = (color[field] + value < 255) ? color[field] + value : 255\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic removeToColor(color, field, value) {\r\n\t\tif (color[field] !== undefined) {\r\n\t\t\tcolor[field] = (color[field] - value > 0) ? color[field] - value : 0\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic convertToHex(color) {\r\n\t\t\r\n\t\tfunction getHexValue(value) {\r\n\t\t\tlet str = value.toString(16);\r\n\t\t\tif (str.length === 1) {\r\n\t\t\t\tstr = \"0\" + str;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn str;\r\n\t\t}\r\n\t\t\r\n\t\treturn `#${getHexValue(color.r)}${getHexValue(color.g)}${getHexValue(color.b)}`\r\n\t}\r\n\t\r\n\tchangeCurrentValue = (newValue) => {\r\n\t\t\r\n\t\tthis.setState(prev => {\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\tcurrent: newValue\r\n\t\t\t}\r\n\t\t}, () => ProgressBar.logger.log(\"changeCurrentValue : New state : \", this.state))\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet percentLoad = 0;\r\n\t\t\r\n\t\t\r\n\t\tif (this.state.current >= 0 && this.state.max > 0) {\r\n\t\t\t\r\n\t\t\tpercentLoad = Math.round(this.state.current / this.state.max * 100);\r\n\t\t}\r\n\t\t\r\n\t\tlet color = this.state.color;\r\n\t\t\r\n\t\tconst deltaColor = Math.round(255 / this.state.max);\r\n\t\tif (percentLoad > 70 && percentLoad <= 100) {\r\n\t\t\tProgressBar.addToColor(color, 'r', deltaColor)\r\n\t\t\t\r\n\t\t}\r\n\t\tif (percentLoad > 100) {\r\n\t\t\tProgressBar.removeToColor(color, 'g', deltaColor)\r\n\t\t}\r\n\t\t\r\n\t\tpercentLoad = percentLoad < 100 ? percentLoad : 100;\r\n\t\t\r\n\t\t\r\n\t\tconst style = {\r\n\t\t\t\"width\": `${percentLoad}%`,\r\n\t\t\t\"backgroundColor\": ProgressBar.convertToHex(color)\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\tlet className = \"ProgressBar\";\r\n\t\tif (this.props.className)\r\n\t\t\tclassName += ` ${this.props.className}`;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={className} style={style}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ProgressBar;","import React, {Component} from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport './Steps.css'\r\nimport ProgressBar from \"../reusableComponent/ProgressBar\";\r\nimport {connect} from \"react-redux\";\r\nimport logConfig from '../../../config/log'\r\nimport Logger from \"../../../dev/Logger\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttime: state.time\r\n\t}\r\n};\r\n\r\nclass Step extends Component {\r\n\t\r\n\tstatic Status = {\r\n\t\tdone: \"done\",\r\n\t\ttodo: \"todo\",\r\n\t\tcurrent: \"current\",\r\n\t\tskipped: \"skipped\"\r\n\t\t\r\n\t};\r\n\t\r\n\tstatic propTypes = {\r\n\t\tcurrentTime: PropTypes.number, // only supplied if it's the current Step\r\n\t\tstep: PropTypes.shape({\r\n\t\t\tstatus: PropTypes.oneOf(Step.Status.current, Step.Status.todo, Step.Status.skipped, Step.Status.done),\r\n\t\t\teta: PropTypes.number.isRequired,\r\n\t\t\tname: PropTypes.string.isRequired\r\n\t\t}).isRequired\r\n\t};\r\n\t\r\n\tstatic defaultProps = {};\r\n\t\r\n\tstatic logger = new Logger(logConfig.Step, \"Step\");\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\t\r\n\t\tthis.state = {\r\n\t\t\tid: props.step.id,\r\n\t\t\torder: props.step.order,\r\n\t\t\tcurrentTime: props.time.stepElapsedTime,\r\n\t\t\tprogressBarRef: React.createRef(),\r\n\t\t\tprogressBarKey: Date.now(),\r\n\t\t\tresetFunc: this.reset\r\n\t\t};\r\n\t\t\r\n\t\t\r\n\t\tStep.logger.log(\"Constructor : time :\", props.time);\r\n\t\tStep.logger.log(\"Constructor : state :\", this.state);\r\n\t\t\r\n\t}\r\n\t\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\t\r\n\t\t// if the step's order match, I have to update\r\n\t\t\r\n\t\tif (nextProps.time.haveToReset === true) {\r\n\t\t\tprevState.resetFunc();\r\n\t\t}\r\n\t\t\r\n\t\tif (nextProps.time.currentStep && nextProps.time.currentStep.order === prevState.order) {\r\n\t\t\t\r\n\t\t\tif (prevState.progressBarRef.current)\r\n\t\t\t{\r\n\t\t\t\tStep.logger.log(\"Time\", nextProps.time);\r\n\t\t\t\tprevState.progressBarRef.current.changeCurrentValue(nextProps.time.stepElapsedTime);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...prevState,\r\n\t\t\t\tcurrentTime: nextProps.time.stepElapsedTime\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\treset() {\r\n\t\treturn {\r\n\t\t\t...this.state,\r\n\t\t\tprogressBarKey: Date.now(),\r\n\t\t\tcurrentTime: 0\r\n\t\t}\r\n\t\t// this.setState(prev => {\r\n\t\t// \treturn {\r\n\t\t// \t\t...prev,\r\n\t\t// \t\tprogressBarKey: Date.now(),\r\n\t\t// \t\tcurrentTime: 0\r\n\t\t// \t}\r\n\t\t// })\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\t\r\n\t\tlet currentTime = (this.state.currentTime !== undefined) ? this.state.currentTime : 0;\r\n\t\t\r\n\t\t\r\n\t\tlet className = `Step ${this.props.step.status}`;\r\n\t\t\r\n\t\tconst eta = Math.round(this.props.step.eta - currentTime);\r\n\t\tStep.logger.log(\"Render ETA\", this.props.step.eta);\r\n\t\treturn (\r\n\t\t\t<div className={className}>\r\n\t\t\t\t<p>{this.props.step.name} </p> <span\r\n\t\t\t\tclassName=\"eta\">{eta}s</span>\r\n\t\t\t\t\r\n\t\t\t\t<ProgressBar ref={this.state.progressBarRef}\r\n\t\t\t\t             current={currentTime}\r\n\t\t\t\t             key={this.state.progressBarKey}\r\n\t\t\t\t             max={this.props.step.eta}/>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Step);\r\n\r\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from \"prop-types\";\nimport Step from \"./Step\";\nimport Logger from \"../../../dev/Logger\";\nimport debug from '../../../config/log'\nimport './TimeBoard.css'\nimport {viewAction} from \"../../../redux/actions/ViewAction\";\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\nimport {dispatch} from \"../../../redux/Store\";\nimport {timeAction} from \"../../../redux/actions/TimeAction\";\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\ttime: state.time,\n\t\tview: state.view\n\t};\n}\n\nclass TimeBoard extends Component {\n\t\n\t\n\tstatic logger = new Logger(debug.TimeBoard, \"TimeBoard\");\n\t\n\tstatic propTypes = {\n\t\tclassName: PropTypes.string,\n\t};\n\t\n\tstatic stepsElems = [];\n\t\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tTimeBoard.logger.log(\"constructor\", this.props);\n\t\t\n\t\tconst steps = TimeBoard.createStepFromProps(props);\n\t\t\n\t\t\n\t\tthis.state = {\n\t\t\tsortedSteps: steps,\n\t\t\tglobalElapsedTime: props.time.globalElapsedTime,\n\t\t\tdoneSteps: [...props.time.doneSteps],\n\t\t\tskippedSteps: [...props.time.skippedSteps],\n\t\t\ttodoSteps: [...props.time.todoSteps],\n\t\t\tvisible: props.view.componentVisibility.timeBoard,\n\t\t\tparentDiv: null,\n\t\t\t\n\t\t};\n\t\t\n\t\t\n\t\tTimeBoard.logger.log(\"constructor\", this.state);\n\t\t\n\t\t\n\t}\n\t\n\tstatic compareSteps(nextSteps, oldSteps) {\n\t\t\n\t\tif (nextSteps.length !== oldSteps.length) {\n\t\t\treturn true\n\t\t}\n\t\t\n\t\tfor (let i = 0; i < nextSteps.length; i++) {\n\t\t\tif (nextSteps[i] !== undefined && oldSteps[i] !== undefined) {\n\t\t\t\tif (nextSteps[i].status !== oldSteps[i].status) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\t\n\t\tif (nextProps.time.haveToReset === true) {\n\t\t\tdispatch({\n\t\t\t\ttype: timeAction.resetStepsProgression.type,\n\t\t\t\tstate: false\n\t\t\t})\n\t\t}\n\t\t\n\t\t\n\t\tif (prevState.visible !== nextProps.view.componentVisibility.timeBoard) {\n\t\t\t// console.warn(\"HEY 1\");\n\t\t\tconst bool = (nextProps.view.componentVisibility.timeBoard === viewAction.setComponentVisibility.state.visible);\n\t\t\t\n\t\t\treturn {\n\t\t\t\tvisible: bool\n\t\t\t}\n\t\t}\n\t\t\n\t\tconst newSortedSteps = TimeBoard.createStepFromProps(nextProps);\n\t\tif (TimeBoard.compareSteps(newSortedSteps, prevState.sortedSteps))\n\t\t{\n\t\t\tconst nbStepsDone = nextProps.time.doneSteps.length;\n\t\t\tconst offset = 3;\n\t\t\tif (nbStepsDone > offset) {\n\t\t\t\tconst aStep = document.querySelector(\".Step\");\n\t\t\t\tconsole.log(\"Scrolling to \", nbStepsDone - offset, (nbStepsDone - offset) * aStep.clientHeight);\n\t\t\t\tdocument.querySelector(\"div#steps\").scrollTop = (nbStepsDone - offset) * aStep.clientHeight\n\t\t\t\t\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\treturn {\n\t\t\t\tsortedSteps: TimeBoard.createStepFromProps(nextProps),\n\t\t\t\tglobalElapsedTime: nextProps.time.globalElapsedTime,\n\t\t\t\tdoneSteps: [...nextProps.time.doneSteps],\n\t\t\t\tskippedSteps: [...nextProps.time.skippedSteps],\n\t\t\t\ttodoSteps: [...nextProps.time.todoSteps],\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\treturn null;\n\t}\n\t\n\tstatic createStepFromProps(props)\n\t{\n\t\tconst steps = [];\n\t\t\n\t\tprops.time.doneSteps.forEach(step => {\n\t\t\tsteps.push({\n\t\t\t\t...step,\n\t\t\t\tstatus: Step.Status.done,\n\t\t\t\t\n\t\t\t})\n\t\t});\n\t\t\n\t\tif (props.time.currentStep !== null) {\n\t\t\tsteps.push({\n\t\t\t\t...props.time.currentStep,\n\t\t\t\tstatus: Step.Status.current,\n\t\t\t});\n\t\t}\n\t\t\n\t\tprops.time.todoSteps.forEach(step => {\n\t\t\tsteps.push({\n\t\t\t\t...step,\n\t\t\t\tstatus: Step.Status.todo,\n\t\t\t})\n\t\t});\n\t\t\n\t\tprops.time.skippedSteps.forEach(step => {\n\t\t\t\n\t\t\tsteps.push({\n\t\t\t\t...step,\n\t\t\t\tstatus: Step.Status.skipped,\n\t\t\t})\n\t\t\t\n\t\t});\n\t\t\n\t\t\n\t\treturn steps.sort((stepA, stepB) => {\n\t\t\treturn stepA['order'] < stepB['order'] ? -1 : 1\n\t\t});\n\t}\n\t\n\tcomponentDidMount() {\n\t\tconsole.log(TimeBoard.stepsElems);\n\t}\n\t\n\trender()\n\t{\n\t\tlet className = \"TimeBoard \";\n\t\tclassName += (this.props.className) ? this.props.className : \"\";\n\t\t\n\t\tif (this.state.parentDiv) {\n\t\t\tif (this.state.visible === viewAction.setComponentVisibility.state.hidden) {\n\t\t\t\t\n\t\t\t\tthis.state.parentDiv.classList.add(\"hidden\");\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tthis.state.parentDiv.classList.remove(\"hidden\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tconst steps = [];\n\t\tTimeBoard.stepsElems.length = 0;\n\t\t\n\t\tthis.state.sortedSteps.forEach(((step, index) => {\n\t\t\t// let ref = React.createRef();\n\t\t\tsteps.push(<Step step={step} key={index}/>);\n\t\t\t// TimeBoard.stepsElems.push(ref)\n\t\t}));\n\t\t\n\t\t// TimeBoard.stepsElems = [...steps];\n\t\t\n\t\tif (steps.length > 0) {\n\t\t\treturn (\n\t\t\t\t<div className={className}>\n\t\t\t\t\t<ComponentTitle>Steps</ComponentTitle>\n\t\t\t\t\t<div id=\"steps\">\n\t\t\t\t\t\t{steps}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div className={className + \" hidden\"}/>\n\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nexport default connect(\n\tmapStateToProps,\n)(TimeBoard);","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Icon.css'\r\n\r\nclass Icon extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\timage: PropTypes.node.isRequired,\r\n\t\tdescription: PropTypes.string.isRequired,\r\n\t\tcopyright: PropTypes.string,\r\n\t\tanimation: PropTypes.bool\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet className = \"Icon\";\r\n\t\tif (this.props.animation) {\r\n\t\t\tclassName += \" animated\"\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<img className={className} src={this.props.image}\r\n\t\t\t     alt={this.props.description}\r\n\t\t\t     title={this.props.copyright}/>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default Icon;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport Logger from \"../../../dev/Logger\";\r\nimport logConfig from '../../../config/log'\r\nimport Icon from \"../reusableComponent/Icon\";\r\n\r\nimport './Toolbar.css'\r\n\r\nimport internetError from './icons/internetError.svg'\r\nimport muteMicro from './icons/muteMicro.svg'\r\nimport pcProblem from './icons/pcProblem.svg'\r\nimport {toolbarAction} from \"../../../redux/actions/ToolbarAction\";\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\ttoolbar: state.toolbar\r\n\t}\r\n};\r\n\r\n\r\nclass Toolbar extends Component {\r\n\t\r\n\t\r\n\tstatic logger = new Logger(logConfig.Toolbar, \"Toolbar\");\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinfos: props.toolbar\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\t\r\n\t\tif (nextProps.toolbar !== prevState.infos) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\t...prevState,\r\n\t\t\t\tinfos: nextProps.toolbar,\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tToolbar.logger.log(\"Render\", this.props);\r\n\t\tlet className = \"Toolbar\";\r\n\t\tclassName += (this.props.className) ? this.props.className : \"\";\r\n\t\t\r\n\t\t\r\n\t\tconst icons = [];\r\n\t\t\r\n\t\tif (this.state.infos.internet === toolbarAction.toolbarState.state.error) {\r\n\t\t\ticons.push(<Icon image={internetError}\r\n\t\t\t                 description={\"An error occured with the internet connection\"}\r\n\t\t\t                 animation={false}\r\n\t\t\t                 copyright={\"Icons made by surang from https://www.flaticon.com/\"}\r\n\t\t\t                 key={0}/>)\r\n\t\t}\r\n\t\t\r\n\t\tif (this.state.infos.micro === toolbarAction.toolbarState.state.error) {\r\n\t\t\ticons.push(<Icon image={muteMicro}\r\n\t\t\t                 description={\"Pepper can't hear you\"}\r\n\t\t\t                 animation={true}\r\n\t\t\t                 copyright={\"Icons made by Smashicons from https://www.flaticon.com/\"}\r\n\t\t\t                 key={1}/>)\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif (this.state.infos.pcConnection === toolbarAction.toolbarState.state.error) {\r\n\t\t\ticons.push(<Icon image={pcProblem}\r\n\t\t\t                 description={\"Pepper can't connect to the laptop\"}\r\n\t\t\t                 animation={false}\r\n\t\t\t                 copyright={\"Icons made by monkik from https://www.flaticon.com/\"}\r\n\t\t\t                 key={2}/>)\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tif (icons.length > 0) {\r\n\t\t\t\r\n\t\t\treturn (\r\n\t\t\t\t<div className={className}>\r\n\t\t\t\t\t<div id={\"icons\"}>{icons}</div>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Toolbar);","import React, {Component} from 'react';\nimport ConfigWrapper from \"../../../controller/ConfigWrapper\";\nimport Icon from \"../reusableComponent/Icon\";\n\nimport './Logo.css'\n\nconst {images} = ConfigWrapper.get() || [];\n\nclass Logo extends Component {\n\trender() {\n\t\tconst logos = [];\n\t\t\n\t\timages.forEach(logo => {\n\t\t\tlogos.push(<Icon image={logo['pathOnTablet']}\n\t\t\t                 description={logo['obj']}/>);\n\t\t});\n\t\t\n\t\t\n\t\treturn (\n\t\t\t<div className={\"Logo\"}>\n\t\t\t\t{logos.map(x => x)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Logo;","import React, {Component} from 'react';\nimport ViewManager from \"./view/ViewManager\";\nimport TimeBoard from \"./view/Global/TimeBoard\";\nimport './App.css';\n// import './AppDark.css';\nimport Toolbar from \"./view/Global/Toolbar/Toolbar\";\nimport logConfig from './config/log'\nimport Logger from \"./dev/Logger\";\nimport {connect} from \"react-redux\";\nimport Logo from \"./view/Global/Logo\";\n\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tscenario: state.scenario\n\t}\n};\n\n\nclass App extends Component {\n\t\n\tstatic propTypes = {};\n\t\n\tstatic logger = new Logger(logConfig.App, \"App\");\n\t\n\tnbClickForDebug = 0;\n\tstate = {\n\t\tscenario: this.props.scenario.current\n\t};\n\t\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\n\t\t// Check if it's a new scenario\n\t\tif (nextProps.scenario.current !== prevState.scenario) {\n\t\t\treturn {\n\t\t\t\tscenario: nextProps.scenario.current\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn null;\n\t}\n\t\n\taskForDebug = () => {\n\t\tthis.nbClickForDebug++;\n\t\tif (this.nbClickForDebug > 10) {\n\t\t\t// Allow the scroll on tablet\n\t\t\tdocument.querySelector(\"div.scenarioTitle\").style.color = \"#F00\";\n\t\t\tdocument.ontouchmove = function () {\n\t\t\t}\n\t\t}\n\t};\n\t\n\tcomponentDidMount() {\n\t\tdocument.ontouchmove = (e) => {\n\t\t\t// prevent scroll on tablet\n\t\t\te.preventDefault()\n\t\t}\n\t}\n\t\n\trender() {\n\t\t\n\t\tlet scenarioName;\n\t\t\n\t\tif (this.state.scenario !== undefined) {\n\t\t\tscenarioName = this.state.scenario.name\n\t\t} else {\n\t\t\tscenarioName = \"No scenario loaded\"\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<div className={\"App\"}>\n\t\t\t\t<div className=\"component leftPart\">\n\t\t\t\t\t{/*List of steps with remaning time for each*/}\n\t\t\t\t\t<TimeBoard/>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div id=\"rightPart\">\n\t\t\t\t\t\n\t\t\t\t\t<div id=\"header\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"component scenarioTitle\"\n\t\t\t\t\t\t     onClick={this.askForDebug}>\n\t\t\t\t\t\t\t{/*On top left, the name of the scenario (receptionist, take out the garbage, etc.)*/}\n\t\t\t\t\t\t\t<h1>{scenarioName}</h1>\n\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"component\">\n\t\t\t\t\t\t\t{/*On top center, the differents problem that affect Pepper (voice mute, ROS dead, etc.)*/}\n\t\t\t\t\t\t\t<Toolbar/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={\"component logos\"}>\n\t\t\t\t\t\t\t{/*The Logos of organisations that form LyonTech*/}\n\t\t\t\t\t\t\t<Logo/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div className=\"component main\">\n\t\t\t\t\t\t{/*Component that create the view in function of LM orders*/}\n\t\t\t\t\t\t<ViewManager/>\n\t\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default connect(mapStateToProps)(App);\n","import React, {Component} from 'react';\r\nimport {getAllViewsKey} from \"../../controller/ViewStepBridge\";\r\nimport './ViewSimulator.css'\r\nimport QiWrapper from \"../../model/QiWrapper\";\r\nimport ConfigWrapper from \"../../controller/ConfigWrapper\";\r\n\r\nconst {apis: {tabletLM}} = ConfigWrapper.get();\r\n\r\nclass ViewSimulator extends Component {\r\n\t\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrentViewSelected: null,\r\n\t\t\t\r\n\t\t\tcurrentJson: JSON.stringify({\r\n\t\t\t\ttextToShow: \"\",\r\n\t\t\t\timagePath: \"\",\r\n\t\t\t\tchoices: [],\r\n\t\t\t\tpeople: {\r\n\t\t\t\t\twho: {\r\n\t\t\t\t\t\tdrinkName: \"\",\r\n\t\t\t\t\t\tname: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tto: {\r\n\t\t\t\t\t\tdrinkName: \"\",\r\n\t\t\t\t\t\tname: \"\"\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t\t\"location\": \"\",\r\n\t\t\t\tvideo: \"\",\r\n\t\t\t\ttime: 0\r\n\t\t\t}, null, 4),\r\n\t\t\t\r\n\t\t\t\r\n\t\t};\r\n\t}\r\n\t\r\n\thandleSelectChange = evt => {\r\n\t\tevt.persist();\r\n\t\tthis.setState(prev => {\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\tcurrentViewSelected: evt.target.value\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\t\r\n\thandleJsonChange = evt => {\r\n\t\tevt.persist();\r\n\t\tthis.setState(prev => {\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\tcurrentJson: evt.target.value\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\t\r\n\thandleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\t\r\n\t\tlet json = this.state.currentJson.replaceAll(\"[\\n\\t]\", \"\");\r\n\t\t\r\n\t\tQiWrapper.raise(tabletLM[\"currentView\"][\"ALMemory\"], {\r\n\t\t\tdata: JSON.parse(json),\r\n\t\t\tview: this.state.currentViewSelected\r\n\t\t});\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst options = [];\r\n\t\tgetAllViewsKey().forEach(view => {\r\n\t\t\toptions.push(<option value={view}>{view}</option>)\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\treturn <div id={\"ViewSimulator\"}>\r\n\t\t\t<form action=\"\" onSubmit={e => this.handleSubmit(e)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label htmlFor=\"select\">Select a view</label>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tvalue={this.state.currentViewSelected}\r\n\t\t\t\t\t\tid={\"select\"}\r\n\t\t\t\t\t\tonChange={event => this.handleSelectChange(event)}>{options}</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div><label htmlFor=\"textArea\">Write Data in JSON</label>\r\n\t\t\t\t\t<textarea id={\"textArea\"}\r\n\t\t\t\t\t          onChange={e => this.handleJsonChange(e)}\r\n\t\t\t\t\t          value={this.state.currentJson}>\r\n\t\t\t\t\t</textarea></div>\r\n\t\t\t\t\r\n\t\t\t\t<button className={\"btn-info\"} type=\"submit\">Change View\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\nexport default ViewSimulator;","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {toolbarAction} from \"../../redux/actions/ToolbarAction\";\r\nimport {viewAction} from \"../../redux/actions/ViewAction\";\r\nimport {comAction} from \"../../redux/actions/CommunicationAction\";\r\nimport './Debug.css'\r\nimport ConfigWrapper from \"../../controller/ConfigWrapper\";\r\nimport QiWrapper from \"../../model/QiWrapper\";\r\nimport ViewSimulator from \"./ViewSimulator\";\r\nimport ComponentTitle from \"../Global/reusableComponent/ComponentTitle\";\r\n\r\n\r\nconst {apis: {common: apiCommon, tabletLM: apiTabletLM, generalManagerHRI: apiGeneralManagerHRI}, drinks, locations, names, videos} = ConfigWrapper.get();\r\n\r\nfunction mapStateToProps(state) {\r\n\treturn {\r\n\t\ttoolbar: state.toolbar,\r\n\t\tview: state.view,\r\n\t\tscenario: state.scenario\r\n\t};\r\n}\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\t\r\n\t\r\n\treturn {\r\n\t\tchangeView: function (view) {\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiTabletLM.currentView.ALMemory, {view: view})\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\ttoggleTimeBoardVisibilty(state) {\r\n\t\t\t\r\n\t\t\tconst componentVisibility = viewAction.setComponentVisibility;\r\n\t\t\tstate = (state === componentVisibility.state.visible) ? componentVisibility.state.hidden : componentVisibility.state.visible;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: componentVisibility.type,\r\n\t\t\t\tstate: state,\r\n\t\t\t\tcomponent: componentVisibility.component.timeBoard\r\n\t\t\t})\r\n\t\t},\r\n\t\ttoolbarState: function (tool, state) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiCommon.toolbarState.ALMemory, {\r\n\t\t\t\tsystem: tool,\r\n\t\t\t\tstate: state\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\tjsHeartbeat: function () {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.jsHeartbeat.type,\r\n\t\t\t});\r\n\t\t},\r\n\t\tstepCompleted: function () {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiGeneralManagerHRI.stepCompleted.ALMemory, {step: null})\r\n\t\t\t\r\n\t\t},\r\n\t\tsetStepRecieved: function () {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.setStepRecieved.type\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\ttimeToggleTimer: function (state) {\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiGeneralManagerHRI.timerState.ALMemory, {state: state});\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tgotoMainMenu: function () {\r\n\t\t\tQiWrapper.raise(apiGeneralManagerHRI.currentScenario.ALMemory, {scenario: \"mainMenu\"});\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiTabletLM.changeCurrentView.ALMemory, {view: \"mainMenu\"})\r\n\t\t},\r\n\t\t\r\n\t\ttimeStepComplete: function () {\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiGeneralManagerHRI.stepCompleted.ALMemory, {step: null})\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\ttimeStepSkipped: function (stepId) {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiGeneralManagerHRI.stepSkipped.ALMemory, {\r\n\t\t\t\tstepId: stepId\r\n\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\ttimeStepChangeCurrent: function (stepId) {\r\n\t\t\t\r\n\t\t\tQiWrapper.raise(apiGeneralManagerHRI.currentStep.ALMemory, {\r\n\t\t\t\tstepId: stepId\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t}\r\n}\r\n\r\nclass Debug extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcurrentStep: null,\r\n\t\t\tcurrentScenario: this.props.scenario.current,\r\n\t\t\timagePath: \"\",\r\n\t\t\tvideoPath: \"\"\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic getDerivedStateFromProps(nextProps, prevState) {\r\n\t\tif (prevState.currentScenario !== nextProps.currentScenario) {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentScenario: nextProps.currentScenario\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\thandleImageClick = () => {\r\n\t\r\n\t};\r\n\t\r\n\t\r\n\thandleVideoClick = () => {\r\n\t\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tlet className = \"Debug\";\r\n\t\t\r\n\t\tlet images = [];\r\n\t\timages.push(drinks, locations);\r\n\t\tlet imagesOptions = [];\r\n\t\timages.forEach(img => {\r\n\t\t\tif (img !== undefined) {\r\n\t\t\t\timagesOptions.push(<option\r\n\t\t\t\t\tvalue={img['pathOnTablet']}>{img['obj']}</option>)\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tlet videosOptions = [];\r\n\t\tnew Array(videos).forEach(video => {\r\n\t\t\tif (video !== undefined) {\r\n\t\t\t\tvideosOptions.push(<option\r\n\t\t\t\t\tvalue={video['pathOnTablet']}>{video['obj']}</option>)\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tlet scenarioDebug = null;\r\n\t\t\r\n\t\tconst toolbarState = toolbarAction.toolbarState.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={className}>\r\n\t\t\t\t<ComponentTitle>Debug</ComponentTitle>\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"redux\">\r\n\t\t\t\t\t<h2>REDUX</h2>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"changeView\">\r\n\t\t\t\t\t\t<h3>View</h3>\r\n\t\t\t\t\t\t<ViewSimulator/>\r\n\t\t\t\t\t\t<h4>changeView</h4>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h4>Component visibility</h4>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => this.props.toggleTimeBoardVisibilty(this.props.view.componentVisibility.timeBoard)}\r\n\t\t\t\t\t\t\tclassName={\"btn btn-info\"}>Toggle timeBoard\r\n\t\t\t\t\t\t\tVisibility\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"toolbar\">\r\n\t\t\t\t\t\t<h3>Toolbar</h3>\r\n\t\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.toolbarState(toolbarAction.toolbarState.system.canMove,\r\n\t\t\t\t\t\t\t        this.props.toolbar.canMove === toolbarState.ok ? toolbarState.error : toolbarState.ok)}>\r\n\t\t\t\t\t\t\tCan Move\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.toolbarState(toolbarAction.toolbarState.system.micro,\r\n\t\t\t\t\t\t\t        this.props.toolbar.micro === toolbarState.ok ? toolbarState.error : toolbarState.ok)}>\r\n\t\t\t\t\t\t\tMicro\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.toolbarState(toolbarAction.toolbarState.system.internet,\r\n\t\t\t\t\t\t\t        this.props.toolbar.internet === toolbarState.ok ? toolbarState.error : toolbarState.ok)}>\r\n\t\t\t\t\t\t\tInternet\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.toolbarState(toolbarAction.toolbarState.system.pcConnection,\r\n\t\t\t\t\t\t\t        this.props.toolbar.pcConnection === toolbarState.ok ? toolbarState.error : toolbarState.ok)}>\r\n\t\t\t\t\t\t\tPc Connection\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"communication\">\r\n\t\t\t\t\t\t<h3>Communication</h3>\r\n\t\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.jsHeartbeat()}>Heartbeats\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div id=\"taskRecieved\">\r\n\t\t\t\t\t\t\t<button className={\"btn btn-info\"} onClick={() => {\r\n\t\t\t\t\t\t\t\tthis.props.setStepRecieved()\r\n\t\t\t\t\t\t\t}}>Step recieved\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div id=\"time\">\r\n\t\t\t\t\t\t<h3>Time</h3>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<button className={\"btn btn-danger\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.timeToggleTimer(apiGeneralManagerHRI.timerState.state.on)}>Start\r\n\t\t\t\t\t\t\ttimer\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button className={\"btn btn-danger\"}\r\n\t\t\t\t\t\t        onClick={() => this.props.timeToggleTimer(apiGeneralManagerHRI.timerState.state.off)}>Stop\r\n\t\t\t\t\t\t\ttimer\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<div id=\"steps\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t        onClick={() => this.props.timeStepSkipped(this.state.currentStep)}>Pass\r\n\t\t\t\t\t\tstep\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t        onClick={() => this.props.timeStepComplete()}>Complete\r\n\t\t\t\t\t\tStep\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t\t        onClick={() => this.props.timeStepChangeCurrent(this.state.currentStep)}>Change\r\n\t\t\t\t\t\tcurrent\r\n\t\t\t\t\t\tstep\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t<button className={\"btn btn-info\"}\r\n\t\t\t\t        onClick={this.props.gotoMainMenu}>Go to Main Menu\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className=\"Video\">\r\n\t\t\t\t\t<h3>Video</h3>\r\n\t\t\t\t\t<select name=\"\" id=\"\"\r\n\t\t\t\t\t        onChange={this.handleVideoInputChange}>\r\n\t\t\t\t\t\t{videosOptions}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<video src={this.state.videoPath}/>\r\n\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"Image\">\r\n\t\t\t\t\t<h3>Image</h3>\r\n\t\t\t\t\t<select name=\"\" id=\"\"\r\n\t\t\t\t\t        onChange={this.handleVideoInputChange}>\r\n\t\t\t\t\t\t{imagesOptions}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<img src={this.state.imagePath} alt=\"\"/>\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\t\r\n\thandleVideoInputChange = (evt) => {\r\n\t\t\r\n\t\tconsole.log(evt.target.value);\r\n\t\t\r\n\t\tthis.setState(prev => {\r\n\t\t\treturn {\r\n\t\t\t\t...prev,\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\t\r\n\thandleImageInputChange = (evt) => {\r\n\t\r\n\t};\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(Debug);","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {comAction} from \"../../../redux/actions/CommunicationAction\";\r\nimport ComponentTitle from \"../reusableComponent/ComponentTitle\";\r\nimport {SpeakableButton} from \"../reusableComponent/Button/SpeakableButton\";\r\nimport './MainMenu.css'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\t\r\n\t\taskToChangeScenario: scenarioName => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: comAction.askToChangeScenario.type,\r\n\t\t\t\tscenario: scenarioName\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tscenario: state.scenario\r\n\t};\r\n};\r\n\r\nclass MainMenu extends Component {\r\n\t\r\n\tstatic propTypes = {\r\n\t\tscenarios: PropTypes.arrayOf(String)\r\n\t};\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tconst buttons = [];\r\n\t\t\r\n\t\t(this.props.scenarios || comAction.askToChangeScenario.scenario).forEach(scenario => {\r\n\t\t\tbuttons.push(\r\n\t\t\t\t<SpeakableButton\r\n\t\t\t\t\tonClick={() => this.props.askToChangeScenario(scenario['id'])}>\r\n\t\t\t\t\t{scenario['name']}\r\n\t\t\t\t</SpeakableButton>\r\n\t\t\t)\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<div className={\"MainMenu\"}>\r\n\t\t\t\t<ComponentTitle>{this.props.textToShow || this.props.children}</ComponentTitle>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{buttons}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MainMenu);"],"sourceRoot":""}